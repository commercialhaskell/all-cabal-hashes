Name:          language-ocaml
Version:       0.2.0
Synopsis:      Language tools for manipulating OCaml programs in Haskell
Description:   Language tools for manipulating OCaml programs in Haskell.
               Curently includes a Alex/Happy parser, and a pretty-printer.
License:       MIT
License-file:  LICENSE
Author:        Valentin Robert
Maintainer:    valentin.robert.42@gmail.com
Stability:     Experimental
Category:      Language, OCaml
Build-type:    Simple
Cabal-version: 1.22

Source-repository head
  type:     git
  location: https://github.com/Ptival/language-ocaml

Library
  default-language:  Haskell2010
  ghc-options:       -Wall -Wno-orphans
  hs-source-dirs:    lib, test
  pkgconfig-depends: zlib
  build-tools:       alex, happy
  build-depends: array                     >= 0.5  && < 0.6,
                 base                      >= 4.9  && < 4.11,
                 containers                >= 0.5  && < 0.7,
                 data-default              >= 0.7  && < 0.8,
                 directory                 >= 1.3  && < 1.4,
                 extensible-effects        >= 3.0  && < 3.1,
                 extra                     >= 1.6  && < 1.7,
                 filepath                  >= 1.4  && < 1.5,
                 interpolate               >= 0.2  && < 0.3,
                 lens                      >= 4.16 && < 4.17,
                 megaparsec                >= 6.0  && < 6.5,
                 mtl                       >= 2.2  && < 2.3,
                 prettyprinter             >= 1.2  && < 1.3,
                 string-qq                 >= 0.0  && < 0.1,
                 tasty                     >= 1.0  && < 1.1,
                 tasty-golden              >= 2.3  && < 2.4,
                 tasty-hunit               >= 0.9  && < 0.11
  exposed-modules:
                  Language.OCaml.Parser.Common
                  Language.OCaml.Definitions.Parsing.ASTHelper.Exception
                  Language.OCaml.Definitions.Parsing.ASTHelper.Exp
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mb
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mod
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mtd
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mty
                  Language.OCaml.Definitions.Parsing.ASTHelper.Opn
                  Language.OCaml.Definitions.Parsing.ASTHelper.Pat
                  Language.OCaml.Definitions.Parsing.ASTHelper.Str
                  Language.OCaml.Definitions.Parsing.ASTHelper.Te
                  Language.OCaml.Definitions.Parsing.ASTHelper.Typ
                  Language.OCaml.Definitions.Parsing.ASTHelper.Type
                  Language.OCaml.Definitions.Parsing.ASTHelper.Val
                  Language.OCaml.Definitions.Parsing.ASTHelper.Vb
                  Language.OCaml.Definitions.Parsing.Docstrings
                  Language.OCaml.Definitions.Parsing.Location
                  Language.OCaml.Definitions.Parsing.Longident
                  Language.OCaml.Definitions.Parsing.Parser.LetBinding
                  Language.OCaml.Definitions.Parsing.Parser.LetBindings
                  Language.OCaml.Definitions.Parsing.ASTTypes
                  Language.OCaml.Definitions.Parsing.ParseTree
                  Language.OCaml.Parser
                  Language.OCaml.Parser.Generator.Lexer
                  Language.OCaml.Parser.Generator.Parser
                  Language.OCaml.PrettyPrinter
                  Language.OCaml.PrettyPrinter.Internal
  other-modules:
                Language.OCaml.Definitions.Parsing.ASTHelper.Common
                Language.OCaml.Definitions.StdLib.Lexing
                Language.OCaml.Definitions.StdLib.Parsing
                Language.OCaml.Utils
                Language.OCaml.PrettyPrinter.ArgLabel
                Language.OCaml.PrettyPrinter.Case
                Language.OCaml.PrettyPrinter.Constant
                Language.OCaml.PrettyPrinter.ConstructorArguments
                Language.OCaml.PrettyPrinter.ConstructorDeclaration
                Language.OCaml.PrettyPrinter.CoreType
                Language.OCaml.PrettyPrinter.CoreTypeDesc
                Language.OCaml.PrettyPrinter.Expression
                Language.OCaml.PrettyPrinter.ExpressionDesc
                Language.OCaml.PrettyPrinter.LabelDeclaration
                Language.OCaml.PrettyPrinter.Loc
                Language.OCaml.PrettyPrinter.Longident
                Language.OCaml.PrettyPrinter.ModuleBinding
                Language.OCaml.PrettyPrinter.ModuleExpr
                Language.OCaml.PrettyPrinter.ModuleExprDesc
                Language.OCaml.PrettyPrinter.MutableFlag
                Language.OCaml.PrettyPrinter.OpenDescription
                Language.OCaml.PrettyPrinter.OverrideFlag
                Language.OCaml.PrettyPrinter.Pattern
                Language.OCaml.PrettyPrinter.PatternDesc
                Language.OCaml.PrettyPrinter.Payload
                Language.OCaml.PrettyPrinter.RecFlag
                Language.OCaml.PrettyPrinter.Structure
                Language.OCaml.PrettyPrinter.StructureItem
                Language.OCaml.PrettyPrinter.StructureItemDesc
                Language.OCaml.PrettyPrinter.TypeDeclaration
                Language.OCaml.PrettyPrinter.ValueBinding
                Language.OCaml.PrettyPrinter.Variance

Test-suite Test
  default-language: Haskell2010
  type:             exitcode-stdio-1.0
  hs-source-dirs:   test
  main-is:          Main.hs
  build-depends: language-ocaml,
                 base,
                 directory,
                 extra,
                 filepath,
                 interpolate,
                 megaparsec,
                 prettyprinter,
                 string-qq,
                 tasty,
                 tasty-golden,
                 tasty-hunit
  other-modules:
                Language.OCaml.Parser.AndLetBinding.Test
                Language.OCaml.Parser.Attribute.Test
                Language.OCaml.Parser.Attributes.Test
                Language.OCaml.Parser.AttrId.Test
                Language.OCaml.Parser.Constant.Test
                Language.OCaml.Parser.ConstrLongident.Test
                Language.OCaml.Parser.CoreType.Test
                Language.OCaml.Parser.CoreType2.Test
                Language.OCaml.Parser.CoreTypeNoAttr.Test
                Language.OCaml.Parser.Expr.Test
                Language.OCaml.Parser.ExtAttributes.Test
                Language.OCaml.Parser.Generator.Expr.Test
                Language.OCaml.Parser.Generator.Implementation.Test
                Language.OCaml.Parser.Generator.LetBinding.Test
                Language.OCaml.Parser.Generator.SeqExpr.Test
                Language.OCaml.Parser.Generator.SimpleExpr.Test
                Language.OCaml.Parser.Generator.Structure.Test
                Language.OCaml.Parser.Generator.ValLongident.Test
                Language.OCaml.Parser.Ident.Test
                Language.OCaml.Parser.Implementation.Test
                Language.OCaml.Parser.Int.Test
                Language.OCaml.Parser.LetBinding.Test
                Language.OCaml.Parser.LetBindingBody.Test
                Language.OCaml.Parser.LetBindings.Test
                Language.OCaml.Parser.MatchCase.Test
                Language.OCaml.Parser.ModLongident.Test
                Language.OCaml.Parser.OpenStatement.Test
                Language.OCaml.Parser.Operator.Test
                Language.OCaml.Parser.Pattern.Test
                Language.OCaml.Parser.Payload.Test
                Language.OCaml.Parser.PostItemAttribute.Test
                Language.OCaml.Parser.PostItemAttributes.Test
                Language.OCaml.Parser.RecFlag.Test
                Language.OCaml.Parser.SeqExpr.Test
                Language.OCaml.Parser.SimpleCoreType.Test
                Language.OCaml.Parser.SimpleCoreType2.Test
                Language.OCaml.Parser.SimpleCoreTypeOrTuple.Test
                Language.OCaml.Parser.SimpleExpr.Test
                Language.OCaml.Parser.SimplePattern.Test
                Language.OCaml.Parser.SimplePatternNotIdent.Test
                Language.OCaml.Parser.SingleAttrId.Test
                Language.OCaml.Parser.StrictBinding.Test
                Language.OCaml.Parser.Structure.Test
                Language.OCaml.Parser.StructureItem.Test
                Language.OCaml.Parser.StructureTail.Test
                Language.OCaml.Parser.TestStrings
                Language.OCaml.Parser.TestUtils
                Language.OCaml.Parser.ValIdent.Test
                Language.OCaml.Parser.ValLongident.Test
                Language.OCaml.PrettyPrinter.Structure.Test
                Language.OCaml.PrettyPrinter.StructureItem.Test
                Language.OCaml.PrettyPrinter.TestUtils
