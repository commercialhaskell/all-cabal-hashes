Name:          language-ocaml
Version:       0.1.31
Synopsis:      Language tools for manipulating OCaml programs in Haskell
Description:   Language tools for manipulating OCaml programs in Haskell.
               Curently includes a Alex/Happy parser, and a pretty-printer.
License:       MIT
License-file:  LICENSE
Author:        Valentin Robert
Maintainer:    valentin.robert.42@gmail.com
Stability:     Experimental
Category:      Language, OCaml
Build-type:    Simple
Cabal-version: 1.22

Source-repository head
  type:     git
  location: https://github.com/Ptival/language-ocaml

Library
  default-language:  Haskell2010
  ghc-options:       -Wall -Wno-orphans
  hs-source-dirs:    lib, test
  pkgconfig-depends: zlib
  build-tools:       alex, happy
  build-depends: array                     >= 0.5   && < 0.6,
                 base                      >= 4.9   && < 4.11,
                 containers                >= 0.5   && < 0.7,
                 data-default              >= 0.7   && < 0.8,
                 extensible-effects        >= 3.0   && < 3.1,
                 interpolate               >= 0.2   && < 0.3,
                 lens                      >= 4.16  && < 4.17,
                 megaparsec                >= 6.0   && < 6.5,
                 mtl                       >= 2.2   && < 2.3,
                 prettyprinter             >= 1.2   && < 1.3,
                 string-qq                 >= 0.0   && < 0.1,
                 tasty                     >= 1.0   && < 1.1,
                 tasty-hunit               >= 0.9   && < 0.11
  exposed-modules:
                  Language.OCaml.Parser.Common
                  Language.OCaml.Definitions.Parsing.ASTHelper.Exception
                  Language.OCaml.Definitions.Parsing.ASTHelper.Exp
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mb
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mod
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mtd
                  Language.OCaml.Definitions.Parsing.ASTHelper.Mty
                  Language.OCaml.Definitions.Parsing.ASTHelper.Opn
                  Language.OCaml.Definitions.Parsing.ASTHelper.Pat
                  Language.OCaml.Definitions.Parsing.ASTHelper.Str
                  Language.OCaml.Definitions.Parsing.ASTHelper.Te
                  Language.OCaml.Definitions.Parsing.ASTHelper.Typ
                  Language.OCaml.Definitions.Parsing.ASTHelper.Type
                  Language.OCaml.Definitions.Parsing.ASTHelper.Val
                  Language.OCaml.Definitions.Parsing.ASTHelper.Vb
                  Language.OCaml.Definitions.Parsing.Docstrings
                  Language.OCaml.Definitions.Parsing.Location
                  Language.OCaml.Definitions.Parsing.Longident
                  Language.OCaml.Definitions.Parsing.Parser.LetBinding
                  Language.OCaml.Definitions.Parsing.Parser.LetBindings
                  Language.OCaml.Definitions.Parsing.ASTTypes
                  Language.OCaml.Definitions.Parsing.ParseTree
                  Language.OCaml.Parser
                  Language.OCaml.Parser.Generator.Lexer
                  Language.OCaml.Parser.Generator.Parser
                  Language.OCaml.Parser.Internal
                  Language.OCaml.Parser.Utils.Utils
                  Language.OCaml.PrettyPrinter
                  Language.OCaml.PrettyPrinter.Internal
  other-modules:
                Language.OCaml.Definitions.Parsing.ASTHelper.Common
                Language.OCaml.Definitions.StdLib.Lexing
                Language.OCaml.Definitions.StdLib.Parsing
                Language.OCaml.Utils
                Language.OCaml.Parser.AndTypeDeclaration
                Language.OCaml.Parser.Attribute
                Language.OCaml.Parser.Attributes
                Language.OCaml.Parser.AttrId
                Language.OCaml.Parser.BarConstructorDeclaration
                Language.OCaml.Parser.Constant
                Language.OCaml.Parser.ConstrIdent
                Language.OCaml.Parser.ConstrLongident
                Language.OCaml.Parser.ConstructorArguments
                Language.OCaml.Parser.ConstructorDeclaration
                Language.OCaml.Parser.ConstructorDeclarations
                Language.OCaml.Parser.CoreType
                Language.OCaml.Parser.CoreType2
                Language.OCaml.Parser.CoreTypeCommaList
                Language.OCaml.Parser.CoreTypeList
                Language.OCaml.Parser.CoreTypeNoAttr
                Language.OCaml.Parser.Expr
                Language.OCaml.Parser.ExprSemiList
                Language.OCaml.Parser.FunBinding
                Language.OCaml.Parser.FunDef
                Language.OCaml.Parser.GeneralizedConstructorArguments
                Language.OCaml.Parser.Implementation
                Language.OCaml.Parser.Label
                Language.OCaml.Parser.LabelDeclaration
                Language.OCaml.Parser.LabelDeclarationSemi
                Language.OCaml.Parser.LabelDeclarations
                Language.OCaml.Parser.LabelLongident
                Language.OCaml.Parser.LabeledSimpleExpr
                Language.OCaml.Parser.LabeledSimplePattern
                Language.OCaml.Parser.LblExpr
                Language.OCaml.Parser.LblExprList
                Language.OCaml.Parser.LblPattern
                Language.OCaml.Parser.LblPatternList
                Language.OCaml.Parser.LetBinding
                Language.OCaml.Parser.LetBindingBody
                Language.OCaml.Parser.LetBindings
                Language.OCaml.Parser.MatchCase
                Language.OCaml.Parser.MatchCases
                Language.OCaml.Parser.ModExtLongident
                Language.OCaml.Parser.ModLongident
                Language.OCaml.Parser.ModuleBinding
                Language.OCaml.Parser.ModuleBindingBody
                Language.OCaml.Parser.ModuleExpr
                Language.OCaml.Parser.MutableFlag
                Language.OCaml.Parser.NonRecFlag
                Language.OCaml.Parser.OpenStatement
                Language.OCaml.Parser.Operator
                Language.OCaml.Parser.OptBar
                Language.OCaml.Parser.OptPatternTypeConstraint
                Language.OCaml.Parser.OptTypeConstraint
                Language.OCaml.Parser.OptSemi
                Language.OCaml.Parser.OptionalTypeParameter
                Language.OCaml.Parser.OptionalTypeParameters
                Language.OCaml.Parser.OptionalTypeVariable
                Language.OCaml.Parser.OverrideFlag
                Language.OCaml.Parser.Pattern
                Language.OCaml.Parser.PatternGen
                Language.OCaml.Parser.PatternNoExn
                Language.OCaml.Parser.PatternSemiList
                Language.OCaml.Parser.Payload
                Language.OCaml.Parser.PolyTypeNoAttr
                Language.OCaml.Parser.PostItemAttribute
                Language.OCaml.Parser.PostItemAttributes
                Language.OCaml.Parser.PrivateFlag
                Language.OCaml.Parser.RecFlag
                Language.OCaml.Parser.RecordExpr
                Language.OCaml.Parser.SeqExpr
                Language.OCaml.Parser.SigExceptionDeclaration
                Language.OCaml.Parser.SimpleCoreType
                Language.OCaml.Parser.SimpleCoreType2
                Language.OCaml.Parser.SimpleCoreTypeOrTuple
                Language.OCaml.Parser.SimpleDelimitedPattern
                Language.OCaml.Parser.SimpleExpr
                Language.OCaml.Parser.SimplePattern
                Language.OCaml.Parser.SimpleLabeledExprList
                Language.OCaml.Parser.SimplePatternNotIdent
                Language.OCaml.Parser.SingleAttrId
                Language.OCaml.Parser.StrExceptionDeclaration
                Language.OCaml.Parser.StrictBinding
                Language.OCaml.Parser.Structure
                Language.OCaml.Parser.StructureItem
                Language.OCaml.Parser.TestUtils
                Language.OCaml.Parser.Tokens
                Language.OCaml.Parser.TypeConstraint
                Language.OCaml.Parser.TypeDeclaration
                Language.OCaml.Parser.TypeDeclarations
                Language.OCaml.Parser.TypeKind
                Language.OCaml.Parser.TypeVariable
                Language.OCaml.Parser.TypeVariance
                Language.OCaml.Parser.TypeLongident
                Language.OCaml.Parser.Utils.Combinators
                Language.OCaml.Parser.Utils.Types
                Language.OCaml.Parser.ValIdent
                Language.OCaml.Parser.ValLongident
                Language.OCaml.PrettyPrinter.ArgLabel
                Language.OCaml.PrettyPrinter.Case
                Language.OCaml.PrettyPrinter.Constant
                Language.OCaml.PrettyPrinter.ConstructorArguments
                Language.OCaml.PrettyPrinter.ConstructorDeclaration
                Language.OCaml.PrettyPrinter.CoreType
                Language.OCaml.PrettyPrinter.CoreTypeDesc
                Language.OCaml.PrettyPrinter.Expression
                Language.OCaml.PrettyPrinter.ExpressionDesc
                Language.OCaml.PrettyPrinter.LabelDeclaration
                Language.OCaml.PrettyPrinter.Loc
                Language.OCaml.PrettyPrinter.Longident
                Language.OCaml.PrettyPrinter.ModuleBinding
                Language.OCaml.PrettyPrinter.ModuleExpr
                Language.OCaml.PrettyPrinter.ModuleExprDesc
                Language.OCaml.PrettyPrinter.MutableFlag
                Language.OCaml.PrettyPrinter.OpenDescription
                Language.OCaml.PrettyPrinter.OverrideFlag
                Language.OCaml.PrettyPrinter.Pattern
                Language.OCaml.PrettyPrinter.PatternDesc
                Language.OCaml.PrettyPrinter.Payload
                Language.OCaml.PrettyPrinter.RecFlag
                Language.OCaml.PrettyPrinter.Structure
                Language.OCaml.PrettyPrinter.StructureItem
                Language.OCaml.PrettyPrinter.StructureItemDesc
                Language.OCaml.PrettyPrinter.TypeDeclaration
                Language.OCaml.PrettyPrinter.ValueBinding
                Language.OCaml.PrettyPrinter.Variance

Test-suite Test
  default-language: Haskell2010
  type:             exitcode-stdio-1.0
  hs-source-dirs:   test
  main-is:          Main.hs
  build-depends: language-ocaml,
                 base,
                 interpolate,
                 megaparsec,
                 prettyprinter,
                 string-qq,
                 tasty,
                 tasty-hunit
  other-modules:
                Language.OCaml.Parser.AndLetBinding.Test
                Language.OCaml.Parser.Attribute.Test
                Language.OCaml.Parser.Attributes.Test
                Language.OCaml.Parser.AttrId.Test
                Language.OCaml.Parser.Common.Test
                Language.OCaml.Parser.Constant.Test
                Language.OCaml.Parser.ConstrLongident.Test
                Language.OCaml.Parser.Expr.Test
                Language.OCaml.Parser.ExtAttributes.Test
                Language.OCaml.Parser.Generator.Expr.Test
                Language.OCaml.Parser.Generator.Implementation.Test
                Language.OCaml.Parser.Generator.SeqExpr.Test
                Language.OCaml.Parser.Generator.SimpleExpr.Test
                Language.OCaml.Parser.Generator.ValLongident.Test
                Language.OCaml.Parser.Implementation.Test
                Language.OCaml.Parser.Int.Test
                Language.OCaml.Parser.LetBinding.Test
                Language.OCaml.Parser.LetBindingBody.Test
                Language.OCaml.Parser.LetBindings.Test
                Language.OCaml.Parser.MatchCase.Test
                Language.OCaml.Parser.ModLongident.Test
                Language.OCaml.Parser.OpenStatement.Test
                Language.OCaml.Parser.Operator.Test
                Language.OCaml.Parser.Pattern.Test
                Language.OCaml.Parser.Payload.Test
                Language.OCaml.Parser.PostItemAttribute.Test
                Language.OCaml.Parser.PostItemAttributes.Test
                Language.OCaml.Parser.RecFlag.Test
                Language.OCaml.Parser.SeqExpr.Test
                Language.OCaml.Parser.SimpleExpr.Test
                Language.OCaml.Parser.SimplePattern.Test
                Language.OCaml.Parser.SingleAttrId.Test
                Language.OCaml.Parser.StrictBinding.Test
                Language.OCaml.Parser.Structure.Test
                Language.OCaml.Parser.StructureItem.Test
                Language.OCaml.Parser.StructureTail.Test
                Language.OCaml.Parser.TestStrings
                Language.OCaml.Parser.TestUtils
                Language.OCaml.Parser.Tokens.Test
                Language.OCaml.Parser.ValIdent.Test
                Language.OCaml.Parser.ValLongident.Test
                Language.OCaml.PrettyPrinter.Structure.Test
                Language.OCaml.PrettyPrinter.StructureItem.Test
                Language.OCaml.PrettyPrinter.TestUtils
