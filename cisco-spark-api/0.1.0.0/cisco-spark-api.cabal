name:                cisco-spark-api
version:             0.1.0.0
synopsis:            A Haskell bindings for Cisco Spark API
description:         Cisco-spark-api package provides types and functions for accessing Cisco Spark REST API.

                     This package is designed to improve type safety over the API.  Each entity is separately typed.
                     JSON messages contained in REST responses are decoded into appropriate type of Haskell record.
                     JSON messages sent in REST requests are encoded only from correct type of record.

                     Some Spark REST API returning list of objects require HTTP Link Header based pagination.
                     Haskell functions abstract it.  They automatically request subsequent pages as needed and
                     seamlessly stream returned elements rather than just return a chunk of elements in a response.

                     This package also provides some sample usage in command line application style.
                     See source under app directory of the source package.
homepage:            https://github.com/nshimaza/cisco-spark-api#readme
license:             MIT
license-file:        LICENSE
author:              Naoto Shimazaki
maintainer:          Naoto.Shimazaki@gmail.com
copyright:           Copyright: (c) 2017 Naoto Shimazaki
category:            Web
build-type:          Simple
extra-source-files:  CHANGELOG.md
                   , README.md
cabal-version:       >=1.10

library
  hs-source-dirs:      src
  exposed-modules:     Network.CiscoSpark
                     , Network.CiscoSpark.Internal
                     , Network.CiscoSpark.Types
  build-depends:       base >= 4.7 && < 5
                     , aeson
                     , attoparsec
                     , bytestring
                     , conduit-combinators
                     , data-default
                     , http-conduit
                     , network-uri
                     , text
                     , bitset-word8
  default-language:    Haskell2010

executable cisco-spark-api-exe
  hs-source-dirs:      app
  main-is:             Main.hs
  ghc-options:         -threaded -rtsopts -with-rtsopts=-N
  build-depends:       base
                     , aeson
                     , bytestring
                     , conduit-combinators
                     , data-default
                     , http-conduit
                     , optparse-applicative
                     , text
                     , utf8-string
                     , cisco-spark-api
  default-language:    Haskell2010

test-suite cisco-spark-api-test
  type:                exitcode-stdio-1.0
  hs-source-dirs:      test
  main-is:             Spec.hs
  other-modules:       Network.CiscoSparkSpec
                     , Network.CiscoSpark.InternalSpec
                     , Network.CiscoSpark.TypesSpec
  build-depends:       base
                     , aeson
                     , attoparsec
                     , bytestring
                     , conduit-combinators
                     , data-default
                     , http-conduit
                     , http-types
                     , network-uri
                     , text
                     , wai
                     , warp
                     , hspec
                     , cisco-spark-api
                     , thread-hierarchy
  ghc-options:         -rtsopts
  default-language:    Haskell2010

source-repository head
  type:     git
  location: https://github.com/nshimaza/cisco-spark-api
