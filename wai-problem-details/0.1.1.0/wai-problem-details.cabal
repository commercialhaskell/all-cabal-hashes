cabal-version:      2.4
name:               wai-problem-details
version:            0.1.1.0
synopsis:           Problem details middleware for WAI
description:        
                    Problem details middleware for WAI.
                    .
                    It exposes a functions to throw exceptions of type
                    ProblemDetailsException that implements the problem details
                    RFC as specified in https://www.rfc-editor.org/rfc/rfc7807.
                    .
homepage:           https://github.com/aloussase/wai-problem-details
bug-reports:        https://github.com/aloussase/wai-problem-details/issues
license:            MIT
license-file:       LICENSE
author:             Alexander Goussas
maintainer:         goussasalexander@gmail.com
copyright:          Alexander Goussas 2023
category:           Web
extra-source-files: README.md

source-repository head
    type: git
    location: https://github.com/aloussase/wai-problem-details.git

library
    ghc-options: -Wall
    exposed-modules:  Network.Wai.Middleware.ProblemDetails
    other-modules:    Network.Wai.Middleware.ProblemDetails.Internal.Types
                    , Network.Wai.Middleware.ProblemDetails.Internal.Defaults
                    , Network.Wai.Middleware.ProblemDetails.Internal.Exception
    build-depends:    base               ^>=4.16.3.0
                    , aeson              >= 2.1.2 && < 2.2
                    , bytestring         >= 0.11.3 && < 0.12
                    , text               >= 1.2.5 && < 1.3
                    , data-default       >= 0.7.1 && < 0.8
                    , deriving-aeson     >= 0.2.9 && < 0.3
                    , http-types         >= 0.12.3 && < 0.13
                    , network-uri        >= 2.6.4 && < 2.7
                    , wai                >= 3.2.3 && < 3.3
    hs-source-dirs:   src
    default-language: Haskell2010
    default-extensions:   OverloadedStrings
                        , DeriveGeneric
                        , DeriveAnyClass
                        , DerivingStrategies
                        , DerivingVia
                        , DataKinds
                        , ScopedTypeVariables

test-suite wai-problem-details-test
    default-language: Haskell2010
    type:             exitcode-stdio-1.0
    hs-source-dirs:   test
    main-is:          Spec.hs
    build-depends:    base ^>=4.16.3.0
                    , wai-problem-details
                    , http-types
                    , wai
                    , hspec
                    , hspec-wai
                    , data-default
                    , hspec-wai-json
