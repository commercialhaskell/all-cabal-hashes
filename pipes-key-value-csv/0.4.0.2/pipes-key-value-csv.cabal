name:                pipes-key-value-csv
version:             0.4.0.2
synopsis:            Streaming processing of CSV files preceded by key-value pairs.
description:         Nonstandard CSV files, with the table preceded by a header consisting of key-value pairs are often the output format of varius test equipment, such as digital oscilloscopes.
homepage:            https://github.com/marcinmrotek/key-value-csv
license:             BSD3
license-file:        LICENSE
author:              Marcin Mrotek
maintainer:          marcin.jan.mrotek@gmail.com
copyright:           Marcin Mrotek, 2015
category:            Text, Pipes, CSV
build-type:          Simple
extra-source-files:  README.md
cabal-version:       >=1.10

Flag devel
    description: Development mode (-Werror).
    default: False
    manual:  True

library
  exposed-modules:     Pipes.KeyValueCsv
                     , Pipes.KeyValueCsv.Cell
                     , Pipes.KeyValueCsv.Common
                     , Pipes.KeyValueCsv.Csv
                     , Pipes.KeyValueCsv.KeyValue
                     , Pipes.KeyValueCsv.IO
                     , Pipes.KeyValueCsv.Types
                     , Pipes.KeyValueCsv.Types.Common
                     , Pipes.KeyValueCsv.Types.Csv
                     , Pipes.KeyValueCsv.Types.KeyValue
                     , Pipes.KeyValueCsv.Names
                     , Pipes.KeyValueCsv.Internal
                     , Pipes.KeyValueCsv.Internal.Csv
                     , Pipes.KeyValueCsv.Internal.KeyValue
                     , Pipes.KeyValueCsv.Internal.Names
                     , Pipes.KeyValueCsv.Internal.Types
                     , Data.Validation
  build-depends:       base               >= 4.8     && < 5
                     , bifunctors         >= 5.2     && < 5.5
                     , containers         >= 0.5.6   && < 0.6
                     , data-default-class >= 0.0.1   && < 0.2
                     , lens               >= 4.12    && < 4.16
                     , mtl                >= 2.2     && < 2.3
                     , pipes              >= 4.1     && < 4.3
                     , pipes-bytestring   >= 2.1     && < 2.2
                     , pipes-group        >= 1.0     && < 1.1
                     , pipes-parse        >= 3.0     && < 3.1
                     , pipes-safe         >= 2.2     && < 2.3
                     , pipes-text         >= 0.0     && < 0.1
                     , reflection         >= 1.5     && < 2.2
                     , semigroupoids      >= 5.0.0   && < 5.2
                     , text               >= 1.2     && < 1.3
                     , vinyl              >= 0.5.2   && < 0.6
                     , vinyl-utils        >= 0.2.0.1 && < 0.4
  if impl(ghc < 8.0)
    build-depends: semigroups == 0.18.*
  hs-source-dirs:      src
  default-language:    Haskell2010
  ghc-options: -Wall 
  if flag(devel)
     ghc-options: -Werror

test-suite test-kvc
  type:                exitcode-stdio-1.0
  main-is:             test-kvc.hs
  other-modules:       Test.Common
                     , Test.Csv
                     , Test.Instances
                     , Test.KeyValue
                     , Test.Types
  build-depends:       base            >= 4.8 && < 5
                     , contravariant   >= 1.2 && < 1.5
                     , pipes-key-value-csv
                     , data-default-class
                     , lens
                     , QuickCheck      >= 2.8 && < 2.9
                     , pipes
                     , pipes-text
                     , reflection
                     , text
                     , transformers
                     , vinyl
                     , vinyl-utils
  hs-source-dirs:      test
  default-language:    Haskell2010
  ghc-options: -Wall 
  if flag(devel)
     ghc-options: -Werror

