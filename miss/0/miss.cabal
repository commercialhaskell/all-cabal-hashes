cabal-version:       2.2

name:                miss
version:             0
x-revision: 1
synopsis:            A Haskell git implimentation
description:         An implimentation of git in Haskell.
license:             BSD-3-Clause
author:              Alec Heller & davean
maintainer:          oss@xkcd.com
build-type:          Simple
category:            Git, Development
copyright:           Copyright (C) 2015-2018 Alec Heller & davean
homepage:            https://oss.xkcd.com/
bug-reports:         https://code.xkrd.net/skete/miss/issues
extra-source-files:  CHANGELOG.md

source-repository head
  type: git
  location: https://code.xkrd.net/skete/miss.git

library
  hs-source-dirs:      src
  default-language:    Haskell2010
  exposed-modules:  Data.Git
                    Data.Git.Formats
                    Data.Git.Hash
                    Data.Git.Internal.FileUtil
                    Data.Git.Internal.Object
                    Data.Git.Internal.Pack
                    Data.Git.Internal.Parsers
                    Data.Git.Internal.Types
                    Data.Git.Monad
                    Data.Git.Object
                    Data.Git.Pack
                    Data.Git.Paths
                    Data.Git.Ref
                    Data.Git.RefName
                    Data.Git.Types
  build-depends:
      attoparsec              ^>= 0.13
    , base                     >= 4.9.0.0 && < 4.13
    , base16-bytestring       ^>= 0.1
    , bytestring              ^>= 0.10
    , containers              ^>= 0.6
    , cryptohash-sha1         ^>= 0.11
    , deepseq                 ^>= 1.4
    , digest                  ^>= 0
    , exceptions              ^>= 0.10
    , filesystem-abstractions ^>= 0
    , list-tries              ^>= 0.6
    , mtl                     ^>= 2.2
    , posix-paths             ^>= 0.2
    , semigroups              ^>= 0.18
    , time                     >= 1.8 && <  1.10
    , transformers            ^>= 0.5
    , vector                  ^>= 0.12
    , text                    ^>= 1.2
    , unix                    ^>= 2.7
    , zlib                     >= 0.6.1.0 && < 0.7

test-suite miss-tests
  type:             exitcode-stdio-1.0
  default-language: Haskell2010
  hs-source-dirs:   tests
  main-is:          Tests.hs
  other-modules:
    Cover
    TestUtil
    Tests.Git
    Tests.Hash
    Tests.Parsers
    Tests.Pack
    Tests.RefSpec
    Tests.RefNameSpec
  build-depends:
      attoparsec
    , base
    , miss
    , base16-bytestring
    , bytestring
    , ChasingBottoms    ^>= 1.3
    , containers
    , directory          >= 1.2.3.0 && < 1.4
    , exceptions
    , mtl
    , posix-paths
    , process           ^>= 1.6
    , QuickCheck        ^>= 2.12
    , tasty             ^>= 1.2
    , tasty-hunit       ^>= 0.10
    , tasty-quickcheck  ^>= 0.10
    , tasty-test-vector ^>= 0
    , temporary         ^>= 1.3
    , text
    , unix
