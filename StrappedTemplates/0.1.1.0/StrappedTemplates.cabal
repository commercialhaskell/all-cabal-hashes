name:                StrappedTemplates
version:             0.1.1.0
synopsis:            General purpose templates in haskell
homepage:            https://github.com/hansonkd/StrappedTemplates
license:             BSD3
license-file:        LICENSE
author:              Kyle Hanson
maintainer:          me@khanson.io
category:            Text
build-type:          Simple
cabal-version:       >=1.8
description:
  Easy templating in haskell.
  .
  >  import Control.Monad.IO.Class
  >  import qualified Blaze.ByteString.Builder as B
  >  import qualified Data.Text.Lazy as T
  >  import Data.Time
  >  
  >  import Text.Strapped
  >  
  >  makeBucket :: Integer -> InputBucket IO
  >  makeBucket i = bucketFromList 
  >        [ ("is", List $ map (LitVal . LitInteger) [1..i])
  >        , ("is_truthy", LitVal $ LitInteger i)
  >        , ("ioTime", Func (\_ -> (liftIO $ getCurrentTime) >>= (\c -> return $ LitText $ T.pack $ show c)))
  >        ]
  >  
  >  main :: IO ()
  >  main = do
  >    tmpls <- templateStoreFromDirectory "examples/templates" ".strp"
  >    case tmpls of
  >      Left err -> print err
  >      Right store -> do
  >        rendered <- render (putStore store defaultConfig) (makeBucket 2) "base_simple.strp"
  >        either (print) (print . B.toByteString) rendered
  .
  @
  &#160;&#x7b;$ inherits base.strp $&#x7d;
  &#160;
  &#160;&#x7b;$ isblock body $&#x7d;
  &#160;
  &#160;An IO function to find the current time: $&#x7b; ioTime &#x7d;
  &#160;
  &#160;&#x7b;$ if is_truthy $&#x7d;
  &#160;    &#x7b;$ inherits base.strp $&#x7d;
  &#160;    &#x7b;$ isblock body $&#x7d;
  &#160;        Any block level can inherit from another template and override blocks.
  &#160;    &#x7b;$ endisblock $&#x7d;
  &#160;&#x7b;$ else $&#x7d;
  &#160;    Don't show me.
  &#160;&#x7b;$ endif $&#x7d;
  &#160;
  &#160;Taken from an includes:
  &#160;&#x7b;$ include includes/includes.strp $&#x7d;
  &#160;
  &#160;Lets count...
  &#160;&#x7b;$ for i in is $&#x7d;
  &#160;    $&#x7b; i &#x7d;
  &#160;&#x7b;$ endfor $&#x7d;
  &#160;
  &#160;&#x7b;$ endisblock $&#x7d;
  @

library
  exposed-modules:     Text.Strapped, Text.Strapped.Parser, Text.Strapped.Render, Text.Strapped.Types, Text.Strapped.Utils
  build-depends:       base >= 4.7 && < 4.8,
                       bytestring >= 0.10 && < 0.11,
                       containers >= 0.5 && < 0.6,
                       text >= 1.0 && < 1.2, 
                       blaze-builder >=0.3 && < 0.4,
                       parsec >=3.1 && < 3.2,
                       mtl >=2.1 && < 2.3,
                       transformers >= 0.4 && < 0.5,
                       filemanip >=0.3.6 && < 0.3.7,
                       filepath >=1.3 && < 1.4
  hs-source-dirs:      src

test-suite Main
  type:            exitcode-stdio-1.0
  build-depends:   StrappedTemplates >= 0.1 && < 0.2,
                   base >= 4.7 && < 4.8, 
                   hspec >= 1.11 && < 1.12,
                   text >= 1.0 && < 1.2,
                   bytestring >= 0.10 && < 0.11,
                   blaze-builder >=0.3 && < 0.4

  ghc-options:     -Wall -rtsopts
  hs-source-dirs:  tests
  default-language: Haskell2010
  hs-source-dirs:  tests
  main-is:         StrappedTest.hs
  

package-hashes:
    MD5:3930d0dbc14070317a2f7cf1ddac714a
    SHA1:c657d06800c455d8e561e430d483e53194079df6
    SHA256:17c58cae0f7c43863ff272ee3eda0d5696f33b4f0a5a9fcae1d9aea09f6f4333
    SHA512:cce94277e70c36d4e6a7d8ed75b22bbeca265008ca9ac5aa3c9ba04cac118905e3ea4c1f3d0224ecb986bbeb4473a54afa04adc5a786c7d5317741183bba199a
    Skein512_512:27df808339aa36a210223dd6e6d4a0687e2cfc62b8c1e258b9653eec5970e9c1048ab3525c72ac45b5e811b02948f74c7d819920b3e054277c277facc2922469

package-locations:
    https://hackage.haskell.org/package/StrappedTemplates-0.1.1.0/StrappedTemplates-0.1.1.0.tar.gz
    https://s3.amazonaws.com/hackage.fpcomplete.com/package/StrappedTemplates-0.1.1.0.tar.gz

package-size: 8024
