cabal-version:      >=1.10
name:               sequenceTools
version:            1.5.0
license:            GPL-3
license-file:       LICENSE
maintainer:         stephan.schiffels@mac.com
author:             Stephan Schiffels
synopsis:           A package with tools for processing DNA sequencing data
description:
    The tools in this package process sequencing Data, in particular from ancient DNA sequencing libraries. Key tool in this package is pileupCaller, a tool to randomly sample genotypes from sequencing data.

category:           Bioinformatics
build-type:         Simple
extra-source-files:
    README.md
    Changelog.md

library
    exposed-modules:
        SequenceTools.Utils
        SequenceTools.PileupCaller

    hs-source-dirs:   src
    other-modules:    Paths_sequenceTools
    default-language: Haskell2010
    build-depends:
        base >=4.7 && <5,
        optparse-applicative >=0.15.1.0,
        random >=1.1,
        sequence-formats >=1.6.1,
        bytestring >=0.10.12.0,
        vector >=0.12.1.2,
        pipes >=4.3.14

executable pileupCaller
    main-is:          pileupCaller.hs
    hs-source-dirs:   src-executables
    default-language: Haskell2010
    ghc-options:      -threaded -rtsopts -with-rtsopts=-N2
    build-depends:
        base >=4.14.1.0,
        sequenceTools -any,
        sequence-formats >=1.6.1,
        optparse-applicative >=0.15.1.0,
        pipes >=4.3.14,
        rio >=0.1.19.0,
        vector >=0.12.1.2,
        random >=1.1,
        bytestring >=0.10.12.0,
        pipes-safe >=2.3.2,
        pipes-ordered-zip >=1.1.0,
        split >=0.2.3.4,
        ansi-wl-pprint >=0.6.9

executable vcf2eigenstrat
    main-is:          vcf2eigenstrat.hs
    hs-source-dirs:   src-executables
    default-language: Haskell2010
    build-depends:
        base >=4.14.1.0,
        sequenceTools -any,
        pipes-ordered-zip >=1.1.0,
        sequence-formats >=1.6.1,
        bytestring >=0.10.12.0,
        vector >=0.12.1.2,
        optparse-applicative >=0.15.1.0,
        pipes >=4.3.14,
        pipes-safe >=2.3.2

executable genoStats
    main-is:          genoStats.hs
    hs-source-dirs:   src-executables
    default-language: Haskell2010
    build-depends:
        base >=4.14.1.0,
        sequence-formats >=1.6.1,
        sequenceTools -any,
        foldl >=1.4.10,
        bytestring >=0.10.12.0,
        vector >=0.12.1.2,
        lens-family >=2.0.0,
        optparse-applicative >=0.15.1.0,
        pipes >=4.3.14,
        pipes-group >=1.0.12,
        pipes-safe >=2.3.2

test-suite sequenceToolsTests
    type:             exitcode-stdio-1.0
    main-is:          Spec.hs
    hs-source-dirs:   test
    other-modules:
        SequenceTools.UtilsSpec
        SequenceTools.PileupCallerSpec

    default-language: Haskell2010
    build-depends:
        base >=4.14.1.0,
        hspec >=2.7.8,
        sequenceTools -any,
        sequence-formats >=1.6.1,
        vector >=0.12.1.2,
        bytestring >=0.10.12.0,
        pipes >=4.3.14
