name: ghc-trace-events
version: 0.0.0.1
synopsis: Faster replacements for traceEvent and traceMarker
description: This library provies 3 modules:
  .
  ["Debug.Trace.String"] Drop-in replacements for the event tracing functions in
  "Debug.Trace".
  ["Debug.Trace.ByteString"] 'Data.ByteString.ByteString' variants of the event
  tracing functions in "Debug.Trace".
  ["Debug.Trace.Text"] 'Data.Text.Text' variants of the event tracing functions
  in "Debug.Trace".
  .
  Unlike the tracing functions in base, all the tracing functions in this
  package don't evaluate the input if user event logging (the @-lu@ option) is
  disabled.
homepage: https://github.com/maoe/ghc-trace-events
license: BSD3
license-file: LICENSE
author: Mitsutoshi Aoe
maintainer: Mitsutoshi Aoe <maoe@foldr.in>
copyright: Copyright (C) 2018 Mitsutoshi Aoe
category: Development, GHC, Trace
build-type: Simple
extra-source-files:
  CHANGELOG.md
  README.md
cabal-version: >= 1.10
tested-with: GHC == 7.10.3
  || == 8.0.2
  || == 8.2.2
  || == 8.4.3

library
  exposed-modules:
    Debug.Trace.ByteString
    Debug.Trace.String
    Debug.Trace.Text
    Debug.Trace.Internal
  build-depends:
      base >= 4.8 && < 4.12
    , bytestring >= 0.9.2 && < 0.11
    , text >= 1.0.0 && < 1.3
  hs-source-dirs: src
  c-sources: cbits/tracing.c
  default-language: Haskell2010

benchmark bench-trace-enabled
  type: exitcode-stdio-1.0
  build-depends:
      base
    , bytestring
    , criterion
    , ghc-trace-events
  ghc-options: -eventlog -threaded "-with-rtsopts=-l"
  main-is: bench-trace.hs
  hs-source-dirs: benchmarks
  default-language: Haskell2010

benchmark bench-trace-disabled
  type: exitcode-stdio-1.0
  build-depends:
      base
    , bytestring
    , criterion
    , ghc-trace-events
  ghc-options: -threaded
  main-is: bench-trace.hs
  hs-source-dirs: benchmarks
  default-language: Haskell2010

source-repository head
  type: git
  branch: develop
  location: https://github.com/maoe/ghc-trace-events.git
