cabal-version:              >=1.10
name:                       Z-YAML
version:                    0.2.0.0
synopsis:                   YAML tools
description:                YAML reading & writing tools for Z project.
license:                    BSD3
license-file:               LICENSE
author:                     Dong Han
maintainer:                 winterland1989@gmail.com
copyright:                  (c) Dong Han, 2020
category:                   Data
build-type:                 Simple
homepage:                   https://github.com/haskell-Z/z-yaml
bug-reports:                https://github.com/haskell-Z/z-yaml/issues

extra-source-files:         CHANGELOG.md
                            third_party/libyaml/src/yaml_private.h
                            third_party/libyaml/include/yaml.h

library
    exposed-modules:        Z.Data.YAML
                            Z.Data.YAML.FFI

    -- other-modules:
    -- other-extensions:
    build-depends:            base >=4.14 && <4.15
                            , unordered-containers  == 0.2.*
                            , scientific            == 0.3.*
                            , transformers          == 0.5.*
                            , primitive             >= 0.5 && < 0.8
                            , Z-Data == 0.3.*
                            , Z-IO == 0.3.*


    include-dirs:           third_party/libyaml/src
                            third_party/libyaml/include
        
    c-sources:              cbits/hs_yaml.c
                            third_party/libyaml/src/api.c
                            third_party/libyaml/src/dumper.c
                            third_party/libyaml/src/emitter.c
                            third_party/libyaml/src/loader.c
                            third_party/libyaml/src/parser.c
                            third_party/libyaml/src/reader.c
                            third_party/libyaml/src/scanner.c
                            third_party/libyaml/src/writer.c

    cc-options:             -DYAML_VERSION_STRING="0.2.5" -DYAML_VERSION_MAJOR=0 -DYAML_VERSION_MINOR=2 -DYAML_VERSION_PATCH=5
    -- hs-source-dirs:
    default-language:    Haskell2010
    default-extensions:     BangPatterns
                            BinaryLiterals
                            CApiFFI
                            ConstraintKinds
                            CPP 
                            DerivingStrategies
                            DeriveGeneric
                            DeriveAnyClass
                            DefaultSignatures
                            DataKinds
                            ExistentialQuantification
                            FlexibleContexts
                            FlexibleInstances
                            GeneralizedNewtypeDeriving 
                            KindSignatures
                            MagicHash
                            MultiParamTypeClasses
                            MultiWayIf
                            PartialTypeSignatures
                            PatternSynonyms 
                            PolyKinds
                            QuantifiedConstraints
                            QuasiQuotes
                            OverloadedStrings
                            RankNTypes
                            RecordWildCards
                            ScopedTypeVariables 
                            StandaloneDeriving
                            TemplateHaskell
                            TypeApplications
                            TypeFamilyDependencies
                            TypeFamilies
                            TypeOperators
                            TupleSections
                            UnboxedTuples 
                            UnliftedFFITypes 
                            ViewPatterns
