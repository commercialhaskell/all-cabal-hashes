name: pcre-light
version: 0.4.1.2
homepage: https://gitlab.com/daniel-casanueva/pcre-light
synopsis: Portable regex library for Perl 5 compatible regular expressions
description:
    A small, efficient and portable regex library for Perl 5 compatible regular expressions.
    .
    The PCRE library is a set of functions that implement regular
    expression pattern matching using the same syntax and semantics as Perl 5.
    .
    If installation fails with missing pcre/pkg-config, try installing
    the @libpcre3-dev@ package (linux) or running @brew install pcre pkg-config@ (macOS).
    .
category:         Text
license:          BSD3
license-file:     LICENSE
copyright:        (c) 2007-2010. Don Stewart <dons@galois.com>
author:           Don Stewart
maintainer:       Daniel Casanueva <daniel.casanueva `at` proton.me>
cabal-version:    1.18
build-type:       Simple
extra-doc-files: README.md, ChangeLog.md

flag old_base
  description: Build with an old version of base (< 3)
  default:     False

flag use-pkg-config
  default: False
  manual:  True

library
    exposed-modules: Text.Regex.PCRE.Light
                     Text.Regex.PCRE.Light.Char8
                     Text.Regex.PCRE.Light.Base

    default-language: Haskell2010
    default-extensions: CPP, ForeignFunctionInterface

    if flag(old_base)
        build-depends: base < 3
    else
        build-depends: base >= 3 && <= 5, bytestring >= 0.9

    if flag(use-pkg-config)
      pkgconfig-depends: libpcre
    else
      extra-Libraries: pcre

test-suite unit
    type:                exitcode-stdio-1.0
    default-language:    Haskell2010
    hs-source-dirs:      tests
    main-is:             Unit.hs
    if flag(old_base)
        build-depends: base < 3
    else
        build-depends: 
            base >= 3 && <= 5
          , bytestring >= 0.9
          , containers >= 0.5.5.1
          , HUnit >= 1.2.5.2
          , mtl >= 2.1.3.2
          , pcre-light
