name:               html-entity
version:            0.1.3.0
synopsis:           HTML entity decoding and encoding for Text
description:        Fast, attoparsec-powered HTML entity decoding and encoding for Text
license:            BSD3
license-file:       LICENSE
author:             Jude Taylor
maintainer:         me@jude.xyz
tested-with:        GHC == 8.0.2, GHC == 8.2.2, GHC == 8.4.3
category:           Text
build-type:         Custom
extra-source-files: ChangeLog.md
data-files:         data/*.json
cabal-version:      >= 1.10

custom-setup
  setup-depends: base == 4.*, Cabal, cabal-doctest >= 1 && < 1.1

source-repository head
  type:     git
  location: https://github.com/pikajude/html-entity

flag tablegen
  default:     False
  manual:      True
  description: Build the \"tablegen\" executable for development use

flag werror
  default:     False
  manual:      True
  description: Build with -Werror

library
  exposed-modules:    Text.HTMLEntity
  other-modules:      Text.HTMLEntity.Parser
                      Text.HTMLEntity.Table
  hs-source-dirs:     src
  build-depends:      base == 4.*, attoparsec, text, unordered-containers
  default-language:   Haskell2010
  ghc-options:        -Wall

  if flag(werror)
    ghc-options: -Werror

executable tablegen
  main-is:          Tablegen.hs
  hs-source-dirs:   exe
  build-depends:    base, aeson, bytestring, haskell-src-exts, text, unordered-containers
  default-language: Haskell2010
  other-extensions: TypeApplications
  ghc-options:      -Wall

  if flag(werror)
    ghc-options: -Werror

  if !flag(tablegen)
    buildable: False

test-suite doctest
  type:             exitcode-stdio-1.0
  main-is:          doctests.hs
  hs-source-dirs:   tests
  build-depends:    base, doctest
  default-language: Haskell2010
  ghc-options:      -Wall

  if flag(werror)
    ghc-options: -Werror
