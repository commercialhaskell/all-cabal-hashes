name: moto
version: 0.0.2
synopsis: General purpose migrations library
license: Apache-2.0
license-file: LICENSE.txt
extra-source-files: README.md CHANGELOG.md lib/moto/cli_help.docs
author: Renzo Carbonara
maintainer: ren@ren!zone
category: Database
build-type: Simple
cabal-version: >=2.0

library
  hs-source-dirs: lib/moto
  default-language: Haskell2010
  ghc-options: -Wall
  exposed-modules:
      Moto
      Moto.Registry
      Moto.File
  build-depends:
      aeson,
      attoparsec,
      base,
      moto-internal,
      bytestring,
      containers,
      cryptohash-sha1,
      df1,
      di-core,
      di-df1,
      directory,
      filepath,
      safe-exceptions,
      mtl,
      optparse-applicative,
      pipes,
      pipes-attoparsec,
      pipes-bytestring,
      text,
      time,
      transformers

library moto-internal
  hs-source-dirs: lib/moto-internal
  default-language: Haskell2010
  ghc-options: -Wall
  exposed-modules:
      Moto.Internal
      Moto.Internal.Cli
  build-depends:
      base (>=4.6 && <5.0),
      bytestring,
      containers,
      cryptohash-sha1,
      df1,
      di-df1,
      safe-exceptions,
      optparse-applicative,
      text,
      time,
      transformers

test-suite test
  default-language: Haskell2010
  type: exitcode-stdio-1.0
  hs-source-dirs: test
  main-is: Main.hs
  build-depends:
      base
    , bytestring
    , containers
    , di
    , di-core
    , directory
    , filepath
    , moto-internal
    , moto
    , random
    , safe-exceptions
    , text
    , tasty
    , tasty-hunit
    , tasty-quickcheck
    , time

