-- Initial notmuch.cabal generated by cabal init.  For further 
-- documentation, see http://haskell.org/cabal/users-guide/

name:                notmuch
version:             0.3.1
synopsis:            Haskell binding to Notmuch, the mail indexer
description:
  Binding to the notmuch mail indexer, providing a hopefully
  somewhat typesafe way to search your email.
license:             GPL-3
license-file:        gpl-3.0.txt
extra-source-files:
  README.rst
author:              Fraser Tweedale
maintainer:          frase@frase.id.au
copyright:           Copyright (C) 2014-2018  Fraser Tweedale
category:            FFI
build-type:          Simple
cabal-version:       >=1.10
tested-with:
  GHC==8.0.2, GHC==8.2.2, GHC==8.4.4, GHC==8.6.5, GHC==8.8.4, GHC==8.10.7, GHC==9.0.2, GHC==9.2.3, GHC==9.4.1

homepage:            https://github.com/purebred-mua/hs-notmuch
bug-reports:         https://github.com/purebred-mua/hs-notmuch/issues
source-repository head
  type: git
  location: https://github.com/purebred-mua/hs-notmuch.git

flag demos
  description: Build demonstration programs
  default:     False

library
  exposed-modules:
    Notmuch
    Notmuch.Util

  other-modules:
    Notmuch.Binding
    Notmuch.Binding.Constants
    Notmuch.Search
    Notmuch.Tag
    Notmuch.Talloc

  build-depends:
    base >= 4.9 && <5
    , bytestring >= 0.10 && < 0.12
    , deepseq >= 1.4
    , filepath >= 1.0
    , mtl >= 2 && < 3
    , profunctors >= 5 && < 6
    , tagged >= 0.8 && < 1
    , time
    , text

  build-tools:
    c2hs >= 0.19.1

  extra-libraries:
    notmuch
    , talloc

  ghc-options:         -Wall
  hs-source-dirs:      src
  default-language:    Haskell2010

executable hs-notmuch-files
  if !flag(demos)
    buildable: False
  default-language:    Haskell2010
  hs-source-dirs: tools
  ghc-options: -Wall
  main-is: Files.hs
  build-depends:
    base         >= 4.9
    , mtl
    , notmuch

executable hs-notmuch-tag-message
  if !flag(demos)
    buildable: False
  default-language:    Haskell2010
  hs-source-dirs: tools
  ghc-options: -Wall
  main-is: TagMessage.hs
  build-depends:
    base         >= 4.9
    , bytestring
    , mtl
    , notmuch

executable hs-notmuch-tag-count
  if !flag(demos)
    buildable: False
  default-language:    Haskell2010
  hs-source-dirs: tools
  ghc-options: -Wall
  main-is: TagCount.hs
  build-depends:
    base         >= 4.9
    , bytestring
    , mtl
    , containers
    , notmuch

executable hs-notmuch-tag-set
  if !flag(demos)
    buildable: False
  default-language:    Haskell2010
  hs-source-dirs: tools
  ghc-options: -Wall
  main-is: TagSet.hs
  build-depends:
    base         >= 4.9
    , bytestring
    , mtl
    , notmuch

executable hs-notmuch-index-file
  if !flag(demos)
    buildable: False
  default-language:    Haskell2010
  hs-source-dirs: tools
  ghc-options: -Wall
  main-is: IndexFile.hs
  build-depends:
    base         >= 4.9
    , mtl
    , notmuch
