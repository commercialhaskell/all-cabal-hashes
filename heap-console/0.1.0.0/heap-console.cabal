cabal-version:      2.4
name:               heap-console
version:            0.1.0.0
synopsis:           interactively inspect Haskell values at runtime
description:        See the README.md file in the project repository.
homepage:           https://gitlab.com/thematten/heap-console
bug-reports:        https://gitlab.com/thematten/heap-console/issues
license:            BSD-3-Clause
license-file:       LICENSE
author:             TheMatten
maintainer:         matten@tuta.io

copyright:          2020 TheMatten
category:           Language
extra-source-files: CHANGELOG.md README.md

source-repository head
  type:                 git
  location:             git://gitlab.com/thematten/heap-console.git

common common
    build-depends:      base ^>=4.14.1.0
    default-extensions: BangPatterns
                        BlockArguments
                        DeriveAnyClass
                        DerivingStrategies
                        FlexibleContexts
                        GADTs
                        GeneralizedNewtypeDeriving
                        KindSignatures
                        LambdaCase
                        NamedFieldPuns
                        NegativeLiterals
                        PartialTypeSignatures
                        PatternSynonyms
                        RankNTypes
                        RecordWildCards
                        ScopedTypeVariables
                        TupleSections
                        TypeApplications
                        TypeOperators
                        ViewPatterns
    default-language:   Haskell2010
    ghc-options:        -Wall -Wno-partial-type-signatures

library
    import: common
    build-depends:      exceptions ^>=0.10.4
                      , containers ^>=0.6.2.1
                      , haskeline ^>=0.8.1
                      , ghc-heap ^>=8.10.2
                      , ghc-prim ^>=0.6.1
                      , mtl ^>=2.2.2
                      , show-combinators ^>=0.2
    exposed-modules:    Heap.Console Heap.Console.Value
    hs-source-dirs:     src

test-suite heap-console-test
    import: common
    build-depends:      heap-console, hspec ^>=2.7.4
    build-tool-depends: hspec-discover:hspec-discover ^>=2.7.4
    type:               exitcode-stdio-1.0
    hs-source-dirs:     test
    main-is:            Spec.hs
