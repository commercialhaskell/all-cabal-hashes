cabal-version: 1.12
name: loopbreaker
version: 0.1.1.1
license: BSD3
license-file: LICENSE
copyright: 2019 Matej Nižník,
           2019 Sandy Maguire
maintainer: matten@tuta.io
author: Matej Nižník,
        Sandy Maguire
homepage: https://github.com/polysemy-research/loopbreaker#readme
bug-reports: https://github.com/polysemy-research/loopbreaker/issues
synopsis: inline self-recursive definitions
description:
    Please see the README file on Github for more info
category: Plugin
build-type: Simple
extra-source-files:
    README.md
    ChangeLog.md

source-repository head
    type: git
    location: https://github.com/polysemy-research/loopbreaker

library
    exposed-modules:
        Loopbreaker
    hs-source-dirs: src
    other-modules:
        Loopbreaker.InlineRecCalls
        Loopbreaker.Utils
        Paths_loopbreaker
    default-language: Haskell2010
    default-extensions: ConstraintKinds FlexibleContexts KindSignatures
                        LambdaCase MultiWayIf NamedFieldPuns OverloadedStrings
                        ScopedTypeVariables TupleSections TypeFamilies UnicodeSyntax
                        ViewPatterns
    ghc-options: -Wall
    build-depends:
        base >=4.7 && <5,
        containers ==0.6.*,
        ghc >=8.6 && <8.9,
        syb ==0.7.*

test-suite loopbreaker-test
    type: exitcode-stdio-1.0
    main-is: Spec.hs
    build-tool-depends: hspec-discover:hspec-discover -any
    hs-source-dirs: test
    other-modules:
        DisableFlagSpec
        Experiments
        InlineRecCallsSpec
        PragmaDetectionSpec
        TestUtils
        Paths_loopbreaker
    default-language: Haskell2010
    default-extensions: ConstraintKinds FlexibleContexts KindSignatures
                        LambdaCase MultiWayIf NamedFieldPuns OverloadedStrings
                        ScopedTypeVariables TupleSections TypeFamilies UnicodeSyntax
                        ViewPatterns
    ghc-options: -Wall -threaded -rtsopts -with-rtsopts=-N
                 -fplugin=Loopbreaker
    build-depends:
        base >=4.7 && <5,
        containers ==0.6.*,
        ghc >=8.6 && <8.9,
        hspec >=2.6.1 && <3,
        inspection-testing >=0.4.2.1 && <0.5,
        loopbreaker -any,
        syb ==0.7.*
