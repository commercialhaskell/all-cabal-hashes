name:       Advise-me
version:    0.1
synopsis:   Assessment services for the Advise-Me project
homepage:   http://advise-me.ou.nl/

description:

   The Advise-Me project (Automatic Diagnostics with Intermediate Steps in 
   Mathematics Education) is a Strategic Partnership in EU’s Erasmus+ programme. 
   In this project we develop innovative technology for calculating detailed 
   diagnostics in mathematics education, for domains such as ‘Numbers’ and 
   ‘Relationships’. The technology is offered as an open, reusable set of 
   feedback and assessment services. The diagnostic information is calculated 
   automatically based on the analysis of intermediate steps. For more 
   information, see the project website or read the EC-TEL 2018 paper 
   'Fine-grained Cognitive Assessment based on Free-form Input for Math Story 
   Problems'.

category:            Education
copyright:           (c) 2019
license:             Apache-2.0
Extra-Source-Files:  README.md
license-file:        LICENSE.txt
author:              Jorn van Wijk, Ferdinand van Walree, Niels Steenbergen, Wink van Zon, Bastiaan Heeren
maintainer:          bastiaan.heeren@ou.nl
stability:           provisional
build-type:          Simple
cabal-version:       >= 1.8.0.2
tested-with:         GHC == 7.10.3

data-files: 
   networks/labels.xml
 , networks/CarRental.xdsl
 , networks/AreaAndExpression.xdsl
 , networks/Pattern.xdsl
 , networks/MakingASquare.xdsl
 , networks/TheatreRate.xdsl
 , networks/VPattern.xdsl
 , networks/RectangleArea.xdsl
 , networks/AreaOfATriangle.xdsl
 , networks/MagicTrick.xdsl
 , networks/Matryoshka.xdsl
 , networks/StudentModel.xdsl

source-repository head
  type:     svn
  location: https://ideastest.science.uu.nl/svn/ideas/Tutors/Advise-Me/trunk

-- Support for spreadsheets
flag xlsx
  default: True

library
   hs-source-dirs: 
      src

   exposed-modules:
      Bayes.Evidence
    , Bayes.Factor
    , Bayes.Inference
    , Bayes.EliminationOrdering
    , Bayes.NodeTypes
    , Bayes.InterfaceWriter
    , Bayes.Network
    , Bayes.NetworkReader
    , Bayes.Script
    , Bayes.StudentReport
    , Bayes.SVG
    , Bayes.Probability
    , Database.Data
    , Database.Priors
    , Domain.LinearAlgebra.Matrix
    , Domain.Logic.BuggyRules
    , Domain.Logic.GeneralizedRules
    , Domain.Logic.Generator
    , Domain.Logic.InverseRules
    , Domain.Logic.Parser
    , Domain.Logic.Rules
    , Domain.Logic.Strategies
    , Domain.Logic.Utils
    , Domain.Logic.Views
    , Domain.Math.Approximation
    , Domain.Math.CleanUp
    , Domain.Math.Data.MultivariatePolynomial
    , Domain.Math.Equation.BalanceRules
    , Domain.Math.Equation.CoverUpRules
    , Domain.Math.Equation.Views
    , Domain.Math.Numeric.Generators
    , Domain.Math.Numeric.Rules
    , Domain.Math.Polynomial.Balance
    , Domain.Math.Polynomial.BalanceUtils
    , Domain.Math.Polynomial.BuggyBalance
    , Domain.Math.Polynomial.BuggyRules
    , Domain.Math.Polynomial.Examples
    , Domain.Math.Polynomial.Generators
    , Domain.Math.Polynomial.LeastCommonMultiple
    , Domain.Math.Polynomial.RationalRules
    , Domain.Math.Polynomial.Rules
    , Domain.Math.Polynomial.Views
    , Domain.Math.Power.OldViews
    , Domain.Math.Power.Rules
    , Domain.Math.Power.Utils
    , Domain.Math.Power.Views
    , Domain.Math.Simplification
    , Domain.Math.SquareRoot.Views
    , Main.Diagnose
    , Main.ParserCSV
    , Main.Report
    , Main.Tasks
    , Recognize.Data.Approach
    , Recognize.Data.Attribute
    , Recognize.Data.Definition
    , Recognize.Data.DiagnoseError
    , Recognize.Data.DiagnoseResult
    , Recognize.Data.Diagnosis
    , Recognize.Data.Entry
    , Recognize.Data.Math
    , Recognize.Data.MathParserOptions
    , Recognize.Data.MathParserOutput
    , Recognize.Data.MathStoryProblem
    , Recognize.Data.Op
    , Recognize.Data.RuleId
    , Recognize.Data.Solution
    , Recognize.Data.Step
    , Recognize.Data.StringLexer
    , Recognize.Data.StringLexerOptions
    , Recognize.Expr.Functions
    , Recognize.Expr.Normalform
    , Recognize.Expr.Symbols
    , Recognize.Model.Assess
    , Recognize.Model.Connectives
    , Recognize.Model.Constraint
    , Recognize.Model.EvidenceBuilder
    , Recognize.Model.Result
    , Recognize.Parsing.Derived
    , Recognize.Parsing.Interpretation
    , Recognize.Parsing.MathLexer
    , Recognize.Parsing.MathParser
    , Recognize.Parsing.Parse
    , Recognize.Parsing.Parser
    , Recognize.Preprocessing
    , Recognize.Recognizer
    , Recognize.Strategy.Applications
    , Recognize.Strategy.Derivation
    , Recognize.Strategy.Exercises
    , Recognize.Strategy.Recognizer
    , Recognize.Strategy.Rules
    , Recognize.Strategy.Strategies
    , Recognize.Strategy.Views
    , Recognize.SubExpr.Compare
    , Recognize.SubExpr.Functions
    , Recognize.SubExpr.Recognizer
    , Recognize.SubExpr.SEParser
    , Recognize.SubExpr.Symbols
    , Service.AdviseMe
    , Service.Sequencer
    , Service.Types
    , Task.AreaAndExpression
    , Task.AreaOfATriangle
    , Task.CarRental
    , Task.MagicTrick.Assess
    , Task.MagicTrick.Recognizer
    , Task.MakingASquare
    , Task.Matryoshka.Assess
    , Task.Matryoshka.Recognizer
    , Task.Pattern.Assess
    , Task.Pattern.Recognizer
    , Task.RectangleArea
    , Task.TheatreRate.Assess
    , Task.TheatreRate.Recognizer
    , Task.VPattern.Assess
    , Task.VPattern.Recognizer
    , Util.Cache
    , Util.Expr
    , Util.List
    , Util.Monad
    , Util.NumberRange
    , Util.Parentheses
    , Util.String
    , Util.Table
    , Util.TableData
    , Util.W3CSSHTML
    , Util.XML
    , Util.Pretty

   if flag(xlsx)
      exposed-modules:
         Database.HumanAssessment
      build-depends:
         xlsx >= 0.6.0
       -- 0.6.0
       , lens >= 4.15 && < 4.18
       -- 4.17.1
       , filepath
       , text
       , bytestring

   --other-modules:
   exposed-modules:
      Task.Network.AreaAndExpression
    , Task.Network.AreaOfATriangle
    , Task.Network.CarRental
    , Task.Network.MagicTrick
    , Task.Network.MakingASquare
    , Task.Network.Matryoshka
    , Task.Network.Pattern
    , Task.Network.RectangleArea
    , Task.Network.StudentModel
    , Task.Network.TheatreRate
    , Task.Network.VPattern
   --autogen-modules: this only works from Cabal 2.0
   --   Main.NetworkBuilder

   build-depends: 
      base >= 4.8 && < 5 
    , ideas >= 1.8
    , ideas-math-types >= 1.0 
    , mtl >= 2.2
    -- 2.2.1
    , parsec >= 3.1
    -- 3.1.9
    , containers >= 0.5
    -- 0.5.6.2
    , QuickCheck >= 2.8
    -- 2.8.1
    , directory >= 1.2
    -- 1.2.2.0
    , wl-pprint >= 1.2
    -- 1.2.1
    , uniplate >= 1.6
    -- 1.6.12
    , convertible >= 1.1
    -- 1.1.1.0
    , HDBC >= 2.4
    -- 2.4.0.2
    , HDBC-sqlite3 >= 2.3
    -- 2.3.3.1
    , time >= 1.5
    -- 1.5.0.1
    , random >= 1.1
    -- 1.1
    , semigroups == 0.18.5
    -- 0.17
    , sqlite-simple >= 0.4
    -- 0.4.16.0
    , Cabal >= 1.22
    -- 1.22.5.0


executable advise-me.cgi
   main-is: AdviseMe.hs
   hs-source-dirs: app
   ghc-options: -Wall

   build-depends: 
      Advise-me
    , base
    , ideas
    , ideas-math-types
    , containers
    , HDBC
    , HDBC-sqlite3
    , convertible
    , mtl 
    , QuickCheck
    , directory
    , wl-pprint 
    , uniplate 
    , parsec
    , random
    , sqlite-simple
    , time
    , optparse-applicative >= 0.14 && < 0.15
    -- 0.14.3.0


executable advise-me-admin.cgi
   main-is: AdviseMeAdmin.hs
   hs-source-dirs: app
   ghc-options: -Wall
    
   build-depends: 
      Advise-me
    , base
    , containers
    , ideas
    , HDBC
    , HDBC-sqlite3
    , convertible
    , wai >= 3.2.1.1 && < 3.2.3 
    -- 3.2.2.1
    , wai-extra == 3.0.22.0 
    -- 3.0.22.0
    , bytestring >= 0.10
    -- 0.10.16.0
    , directory
    , filepath >= 1.4
    -- 1.4.0.0
    , time >= 1.5
    -- 1.5.0.1
    , http-types >= 0.9
    -- 0.12.3


executable database-builder.exe
   main-is: DatabaseBuilder.hs
   hs-source-dirs: app
   ghc-options: -Wall -threaded
   
   if flag(xlsx)
      cpp-options: -DXLSX

   build-depends: 
      Advise-me
    , base
    , filepath
    , ideas
    , time
    , text >= 1.2
    -- 1.2.1.3
    , bytestring
    , containers
    , mtl
    , HDBC
    , HDBC-sqlite3
    , optparse-applicative

executable report.exe
   main-is: Report.hs
   hs-source-dirs: app
   ghc-options: -Wall

   if flag(xlsx)
      buildable: True
   else
      buildable: False

   build-depends: 
      Advise-me
    , base
    , HDBC-sqlite3
    , containers
    , optparse-applicative
    , wl-pprint
    , filepath

-- For the test-suite, see the SVN repository
-- 
-- test-suite test
--   type: exitcode-stdio-1.0
--   hs-source-dirs: tests
--   main-is: Main.hs
--   build-depends:
--      base
--    , Advise-me
--    , containers
--    , ideas
--    , tasty >= 0.7
--    , tasty-hunit
--    , tasty-program
--    , HDBC-sqlite3
--    , filepath
