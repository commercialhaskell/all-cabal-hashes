-- Initial pi-lcd.cabal generated by cabal init.  For further
-- documentation, see http://haskell.org/cabal/users-guide/

-- The name of the package.
name:                pi-lcd

-- The package version.  See the Haskell package versioning policy (PVP)
-- for standards guiding when and how versions should be incremented.
-- http://www.haskell.org/haskellwiki/Package_versioning_policy
-- PVP summary:      +-+------- breaking API changes
--                   | | +----- non-breaking API additions
--                   | | | +--- code changes with no API change
version:             0.1.1.0

-- A short (one-line) description of the package.
synopsis: Control an Adafruit character LCD and keypad kit on a Raspberry Pi

-- A longer description of the package.
description:
    This package allows using an
    <https://www.adafruit.com/categories/808 Adafruit character LCD and keypad kit>
    on a Raspberry Pi from Haskell.
    Everything you need to use one of these LCDs is exposed in the
    @System.Hardware.PiLcd@ module.  The submodules are only exposed
    because they might be useful to reuse for other types of hardware,
    such as if you are using an MCP23017 port expander or an HD44780
    display controller in some other context.  But if you're using the
    Adafruit character LCD and keypad kit, all you need is
    @System.Hardware.PiLcd@.

-- The license under which the package is released.
license:             BSD3

-- The file containing the license text.
license-file:        LICENSE

-- The package author(s).
author:              Patrick Pelletier

-- An email address to which users can send suggestions, bug reports, and
-- patches.
maintainer:          code@funwithsoftware.org

-- A copyright notice.
copyright:           Â© Patrick Pelletier, 2017

homepage:            https://github.com/ppelleti/pi-lcd

bug-reports:         https://github.com/ppelleti/pi-lcd/issues

category:            Hardware, Raspberrypi

build-type:          Simple

-- Extra files to be distributed with the package, such as examples or a
-- README.
extra-source-files:  README.md
                   , ChangeLog.md
                   , examples/LICENSE-FOR-EXAMPLES
                   , util/make-font.hs

-- Constraint on the version of Cabal needed to build this package.
cabal-version:       >=1.10

data-files:          5x8.lcd

data-dir:            data

-- Only fully tested with GHC 7.6.3 on Raspbian Jessie, but
-- we want Travis to test the other GHCs to make sure it compiles.
tested-with:         GHC==7.6.3
                   , GHC==7.8.4
                   , GHC==7.10.3
                   , GHC==8.0.2

source-repository head
  Type:     git
  Location: https://github.com/ppelleti/pi-lcd.git


library
  exposed-modules:     System.Hardware.PiLcd.Font5x8
                     , System.Hardware.PiLcd.Hd44780
                     , System.Hardware.PiLcd.Mcp23017
                     , System.Hardware.PiLcd.UnicodeLcd
                     , System.Hardware.PiLcd.UserInterface

  if os(linux)
    exposed-modules:   System.Hardware.PiLcd
                     , System.Hardware.PiLcd.I2c

  other-modules:       Paths_pi_lcd
                     , System.Hardware.PiLcd.Util

  -- LANGUAGE extensions used by modules in this package.
  -- other-extensions:

  -- Other library packages from which modules are imported.
  build-depends:       base >= 4.6 && < 5
                     , bytestring >= 0.10.0.2 && < 0.11
                     , clock >= 0.7.2 && < 0.8
                     , deepseq >= 1.3 && < 1.5
                     , text >= 1.1 && < 1.3
                     , unix >= 2.7 && < 2.8
                     , unordered-containers >= 0.2.4 && < 0.3

  -- Directories containing source files.
  hs-source-dirs:      src

  -- Extra tools (e.g. alex, hsc2hs, ...) needed to build the source.
  build-tools:         hsc2hs

  -- Base language which the package is written in.
  default-language:    Haskell2010

  ghc-options:         -fwarn-unused-imports -fwarn-unused-binds


executable pi-lcd-demo
  -- .hs or .lhs file containing the Main module.
  main-is:             pi-lcd-demo.hs

  -- Other library packages from which modules are imported.
  build-depends:       base >= 4.6 && < 5
                     , pi-lcd
                     , text >= 1.1 && < 1.3

  -- Directories containing source files.
  hs-source-dirs:      examples

  -- Base language which the package is written in.
  default-language:    Haskell2010

  if !os(linux)
    buildable: False


executable pi-lcd-custom
  -- .hs or .lhs file containing the Main module.
  main-is:             pi-lcd-custom.hs

  -- Other library packages from which modules are imported.
  build-depends:       base >= 4.6 && < 5
                     , pi-lcd
                     , text >= 1.1 && < 1.3

  -- Directories containing source files.
  hs-source-dirs:      examples

  -- Base language which the package is written in.
  default-language:    Haskell2010

  if !os(linux)
    buildable: False


executable pi-lcd-ui
  -- .hs or .lhs file containing the Main module.
  main-is:             pi-lcd-ui.hs

  -- Other library packages from which modules are imported.
  build-depends:       base >= 4.6 && < 5
                     , pi-lcd
                     , text >= 1.1 && < 1.3

  -- Directories containing source files.
  hs-source-dirs:      examples

  -- Base language which the package is written in.
  default-language:    Haskell2010

  if !os(linux)
    buildable: False


executable pi-lcd-test-rom
  -- .hs or .lhs file containing the Main module.
  main-is:             pi-lcd-test-rom.hs

  -- Other library packages from which modules are imported.
  build-depends:       base >= 4.6 && < 5
                     , pi-lcd
                     , text >= 1.1 && < 1.3

  -- Directories containing source files.
  hs-source-dirs:      examples

  -- Base language which the package is written in.
  default-language:    Haskell2010

  if !os(linux)
    buildable: False
