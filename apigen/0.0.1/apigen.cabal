name:          apigen
version:       0.0.1
synopsis:      FFI API generator for several languages
description:   Supports a specific way of defining C APIs and generates bindings for various languages for them.
homepage:      https://toktok.github.io/apigen
license:       GPL-3
license-file:  LICENSE
author:        iphydf
maintainer:    iphydf@users.noreply.github.com
category:      Development
build-type:    Simple
cabal-version: >=1.10

source-repository head
  type:     git
  location: https://github.com/TokTok/apigen

library
  default-language: Haskell2010
  exposed-modules:
    Apigen.Language.Haskell

  ghc-options:      -Wall
  hs-source-dirs:   src
  build-depends:
      base            >=4       && <5
    , casing          <0.2
    , cimple          >=0.0.17
    , data-fix        <0.4
    , mtl             <3
    , text            <3

executable apigen
  default-language: Haskell2010
  hs-source-dirs:   tools
  ghc-options:      -Wall
  main-is:          apigen.hs
  build-depends:
      base      <5
    , apigen
    , cimple
    , text

test-suite testsuite
  type:               exitcode-stdio-1.0
  default-language:   Haskell2010
  hs-source-dirs:     test
  main-is:            testsuite.hs
  other-modules:
    Apigen.Language.HaskellSpec

  ghc-options:        -Wall -Wno-unused-imports
  build-tool-depends: hspec-discover:hspec-discover
  build-depends:
      base      <5
    , apigen
    , cimple
    , hspec     <3
    , text
