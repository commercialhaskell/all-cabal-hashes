cabal-version: 2.2

-- This file has been generated from package.yaml by hpack version 0.36.0.
--
-- see: https://github.com/sol/hpack

name:           dojang
version:        0.1.0
synopsis:       A cross-platform dotfiles manager
description:    See also the README.md file.
category:       Configuration
homepage:       https://dojang.dev/
author:         Hong Minhee <hong@minhee.org>
maintainer:     Hong Minhee <hong@minhee.org>
copyright:      Â© 2023 Hong Minhee
license:        GPL-3.0-or-later
license-file:   LICENSE
build-type:     Simple
extra-doc-files:
    README.md
    CHANGES.md
    LICENSE

flag static
  description: Static link
  manual: True
  default: False

library
  exposed-modules:
      Dojang.App
      Dojang.Commands
      Dojang.Commands.Apply
      Dojang.Commands.Diff
      Dojang.Commands.Env
      Dojang.Commands.Init
      Dojang.Commands.Reflect
      Dojang.Commands.Status
      Dojang.ExitCodes
      Dojang.MonadFileSystem
      Dojang.Syntax.Env
      Dojang.Syntax.EnvironmentPredicate
      Dojang.Syntax.EnvironmentPredicate.Parser
      Dojang.Syntax.EnvironmentPredicate.Writer
      Dojang.Syntax.FilePathExpression.Parser
      Dojang.Syntax.Manifest.Internal
      Dojang.Syntax.Manifest.Parser
      Dojang.Syntax.Manifest.Writer
      Dojang.Types.Context
      Dojang.Types.Environment
      Dojang.Types.Environment.Current
      Dojang.Types.EnvironmentPredicate
      Dojang.Types.EnvironmentPredicate.Evaluate
      Dojang.Types.EnvironmentPredicate.Specificity
      Dojang.Types.FilePathExpression
      Dojang.Types.FilePathExpression.Expansion
      Dojang.Types.FileRoute
      Dojang.Types.FileRouteMap
      Dojang.Types.FileRouteMap.Evaluate
      Dojang.Types.Manifest
      Dojang.Types.MonikerMap
      Dojang.Types.MonikerName
      Dojang.Types.Repository
      Dojang.Version
      Options.Applicative.Path
  other-modules:
      Paths_dojang
  autogen-modules:
      Paths_dojang
  hs-source-dirs:
      src
  ghc-options: -Wall -Wcompat -Widentities -Wincomplete-record-updates -Wincomplete-uni-patterns -Wmissing-home-modules -Wpartial-fields -Wredundant-constraints -Wmissing-export-lists
  build-depends:
      Diff >=0.4.1 && <0.6
    , base >=4.7 && <5
    , bytestring >=0.11 && <0.13
    , case-insensitive >=1.2.1.0 && <2
    , containers >0
    , deepseq >=1.4 && <2
    , directory >=1.3.8 && <1.4
    , extra >=1.7 && <2
    , filepath >=1.4.100 && <2
    , filepattern >=0.1.3 && <2
    , fortytwo >=2 && <2.1
    , hashable >=1.4.2.0 && <2
    , megaparsec ==9.3.*
    , monad-logger ==0.3.*
    , mtl >=2.3 && <3
    , optparse-applicative >=0.17 && <0.19
    , parser-combinators ==1.*
    , pretty-terminal ==0.1.*
    , process >=1.6 && <2
    , semver ==0.4.*
    , text ==2.*
    , text-show ==3.*
    , toml-parser >=1.3 && <2
    , unordered-containers >=0.2.19.1 && <1
  default-language: Haskell2010

executable dojang
  main-is: Main.hs
  other-modules:
      Paths_dojang
  autogen-modules:
      Paths_dojang
  hs-source-dirs:
      app
  ghc-options: -Wall -Wcompat -Widentities -Wincomplete-record-updates -Wincomplete-uni-patterns -Wmissing-home-modules -Wpartial-fields -Wredundant-constraints
  build-depends:
      Diff >=0.4.1 && <0.6
    , base >=4.7 && <5
    , bytestring >=0.11 && <0.13
    , case-insensitive >=1.2.1.0 && <2
    , code-page ==0.2.*
    , containers >0
    , directory >=1.3.8 && <1.4
    , dojang >0
    , filepath >=1.4.100 && <2
    , hashable >=1.4.2.0 && <2
    , megaparsec ==9.3.*
    , monad-logger ==0.3.*
    , mtl >=2.3 && <3
    , optparse-applicative >=0.17 && <0.19
    , pretty-terminal ==0.1.*
    , text ==2.*
    , text-show ==3.*
    , toml-parser >=1.3 && <2
    , unordered-containers >=0.2.19.1 && <1
  default-language: Haskell2010
  if flag(static)
    if os(linux)
      ghc-options: -threaded -rtsopts -with-rtsopts=-N -Wno-incomplete-uni-patterns -optP-Wno-nonportable-include-path -static -optl-static -optl-pthread -optc-Os -fPIC
    else
      ghc-options: -threaded -rtsopts -with-rtsopts=-N -Wno-incomplete-uni-patterns -optP-Wno-nonportable-include-path -static -optc-Os
  else
    ghc-options: -threaded -rtsopts -with-rtsopts=-N -Wno-incomplete-uni-patterns -optP-Wno-nonportable-include-path

test-suite spec
  type: exitcode-stdio-1.0
  main-is: Main.hs
  other-modules:
      Dojang.Gen
      Dojang.MonadFileSystemSpec
      Dojang.Syntax.EnvironmentPredicate.ParserSpec
      Dojang.Syntax.EnvironmentPredicate.WriterSpec
      Dojang.Syntax.FilePathExpression.ParserSpec
      Dojang.Syntax.Manifest.WriterSpec
      Dojang.TestUtils
      Dojang.Types.ContextSpec
      Dojang.Types.Environment.CurrentSpec
      Dojang.Types.EnvironmentPredicate.EvaluateSpec
      Dojang.Types.EnvironmentPredicate.SpecificitySpec
      Dojang.Types.EnvironmentPredicateSpec
      Dojang.Types.EnvironmentSpec
      Dojang.Types.FilePathExpression.ExpansionSpec
      Dojang.Types.FilePathExpressionSpec
      Dojang.Types.FileRouteMap.EvaluateSpec
      Dojang.Types.FileRouteSpec
      Dojang.Types.Gen
      Dojang.Types.MonikerNameSpec
      Dojang.Types.RepositorySpec
      Spec
      SpecHook
      Paths_dojang
  autogen-modules:
      Paths_dojang
  hs-source-dirs:
      test
  ghc-options: -Wall -Wcompat -Widentities -Wincomplete-record-updates -Wincomplete-uni-patterns -Wmissing-home-modules -Wpartial-fields -Wredundant-constraints -threaded -rtsopts -with-rtsopts=-N -Wno-incomplete-uni-patterns -optP-Wno-nonportable-include-path
  build-depends:
      Diff >=0.4.1 && <0.6
    , base >=4.7 && <5
    , bytestring >=0.11 && <0.13
    , case-insensitive >=1.2.1.0 && <2
    , containers >0
    , directory >=1.3.8 && <1.4
    , dojang >0
    , filepath >=1.4.100 && <2
    , hashable >=1.4.2.0 && <2
    , hedgehog >=1.2 && <2
    , hspec >=2.10.10 && <2.11
    , hspec-discover >=2.10.10 && <2.11
    , hspec-expectations-pretty-diff ==0.7.*
    , hspec-hedgehog >=0.0.1.2 && <0.1
    , hspec-junit-formatter >=1.1.0.2 && <1.2
    , hspec-megaparsec ==2.2.*
    , megaparsec ==9.3.*
    , monad-logger ==0.3.*
    , mtl >=2.3 && <3
    , optparse-applicative >=0.17 && <0.19
    , pretty-terminal ==0.1.*
    , random >=1.2 && <2
    , regex-tdfa >=1.3.2 && <1.4
    , temporary ==1.3.*
    , text ==2.*
    , text-show ==3.*
    , toml-parser >=1.3 && <2
    , unordered-containers >=0.2.19.1 && <1
  default-language: Haskell2010
