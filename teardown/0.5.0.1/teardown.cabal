cabal-version: 1.12
name: teardown
version: 0.5.0.1
license: MIT
license-file: LICENSE
copyright: Â© 2017, 2018 Roman Gonzalez
maintainer: open-source@roman-gonzalez.info
author: Roman Gonzalez
stability: alpha (experimental)
tested-with: ghc ==8.0.1 ghc ==8.0.2 ghc ==8.2.1
homepage: https://github.com/roman/Haskell-teardown#readme
bug-reports: https://github.com/roman/Haskell-teardown/issues
synopsis: Build safe and composable teardown sub-routines for resources
description:
    The teardown library allows you to reliably execute cleanup sub-routines for
    allocated resources. When a program is initialized, it:
    .
    * Ensures that teardown sub-routines are executed /exactly/ once
    .
    * Ensures that if errors occur on the execution of a Teardown sub-routine, the
    error does not propagate to others; bulkheading failure on cleanup.
    .
    * Requires every sub-routine to be documented at creation time; thus helping
    tracing your application structure.
    .
    * Allows tracing the teardown of your application, how is structured, how much
    time it takes to execute, and what component (if any) failed to finalize.
category: System
build-type: Simple
extra-source-files:
    README.md
    CHANGELOG.md

source-repository head
    type: git
    location: https://github.com/roman/Haskell-teardown

library
    exposed-modules:
        Control.Teardown
    hs-source-dirs: src
    other-modules:
        Control.Teardown.Internal.Types
        Control.Teardown.Internal.Core
        Control.Teardown.Internal.Printer
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates
    build-depends:
        base >=4.8 && <5,
        prettyprinter >=1.1,
        rio >=0.0.0.0,
        typed-process >=0.1.0.0,
        unliftio >=0.2.4.0

test-suite teardown-test
    type: exitcode-stdio-1.0
    main-is: TestSuite.hs
    hs-source-dirs: test/tasty
    other-modules:
        TeardownTest
        Paths_teardown
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates -threaded -rtsopts -with-rtsopts=-N
    build-depends:
        base >=4.8 && <5,
        rio >=0.0.0.0,
        tasty >=0.11,
        tasty-hunit >=0.9.2,
        teardown -any,
        typed-process >=0.1.0.0,
        unliftio >=0.2.4.0

benchmark teardown-benchmark
    type: exitcode-stdio-1.0
    main-is: Main.hs
    hs-source-dirs: benchmark
    other-modules:
        Paths_teardown
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates -threaded -rtsopts -with-rtsopts=-N
    build-depends:
        base >=4.8 && <5,
        gauge >=0.1.3,
        rio >=0.0.0.0,
        teardown -any,
        typed-process >=0.1.0.0,
        unliftio >=0.2.4.0
