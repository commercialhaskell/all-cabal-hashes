cabal-version: 3.0

name: unleash-client-haskell-core
version: 0.8.9
synopsis: Unleash feature toggle client core
description:
    This is a library for evaluating [Unleash](https://www.getunleash.io/) feature toggles.
    The 'Unleash' module provides functions and types for checking feature toggles and variants.
category: Web
author: FINN.no
maintainer: [email protected]
license: MIT
copyright: Copyright Â© FINN.no AS, Inc. All rights reserved.
extra-source-files:
    CHANGELOG.md
    README.md

common all
    build-depends:
        base >=4.7 && <5,
        record-dot-preprocessor >= 0.2.15 && < 0.3,
        record-hasfield >= 1.0 && < 1.1,
    default-extensions:
        BlockArguments
        DeriveFoldable
        DeriveFunctor
        DeriveTraversable
        DerivingStrategies
        LambdaCase
        OverloadedStrings
        RankNTypes
        ScopedTypeVariables
    ghc-options:
        -haddock
        -W
        -Wno-unused-top-binds
        -Wredundant-constraints
        -Wunused-packages
        -F -pgmF=record-dot-preprocessor
    default-language: Haskell2010

library
    import: all
    exposed-modules:
        Unleash
        Unleash.Internal.DomainTypes
        Unleash.Internal.JsonTypes
        Unleash.Internal.Predicates
    hs-source-dirs: src
    build-depends:
        aeson >= 2.0.3 && < 2.1,
        containers >= 0.6.4 && < 0.7,
        murmur3 >= 1.0.5 && < 1.1,
        random >= 1.2.1 && < 1.3,
        text >= 1.2.5 && < 1.3,
        text-show >= 3.9.7 && < 3.10,
        time >= 1.9.3 && < 1.10,
        versions >= 5.0.4 && < 5.1,

test-suite unleash-client-haskell-core-test
    import: all
    ghc-options: -Wno-missing-home-modules
    type: exitcode-stdio-1.0
    main-is: Spec.hs
    hs-source-dirs: test
    other-modules:
        UnleashClientSpecificationRoundtripSpec
        UnleashSpecificationJsonTypes
        UnleashSpecificationSpec
    build-depends:
        aeson,
        aeson-pretty >= 0.8.9 && < 0.9,
        attoparsec >= 0.14.4 && < 0.15,
        bytestring >= 0.10.12 && < 0.11,
        hspec >= 2.8.5 && < 2.9,
        text,
        unleash-client-haskell-core
