cabal-version: 2.2

-- This file has been generated from package.yaml by hpack version 0.36.0.
--
-- see: https://github.com/sol/hpack

name:           airgql
version:        0.7.1.2
synopsis:       Automatically generate a GraphQL API for an SQLite database
description:    AirGQL automatically generates a GraphQL API for SQLite databases.
                It analyses the database schema
                and builds the corresponding GraphQL introspection and data resolvers.
                .
                The generated API supports all basic CRUD operations and
                even complex queries and mutations including filters and pagination.
                It's the perferct solution for easily integrating GraphQL support
                into existing Haskell servers.
                .
                AirGQL is part of the Airsequel project, which provides a complete solution
                for building web applications on top of SQLite databases.
category:       Web, Database, SQL, SQLite, GraphQL, Servant, CLI Tool
homepage:       https://github.com/Airsequel/AirGQL
author:         Feram GmbH
maintainer:     adrian@feram.io
copyright:      2024 Feram GmbH
license:        AGPL-3.0-or-later
build-type:     Simple
extra-source-files:
    readme.md

flag lib-only
  description: Only build/install the library and not the CLI tool.
  manual: True
  default: False

library
  exposed-modules:
      AirGQL.Config
      AirGQL.ExternalAppContext
      AirGQL.GQLWrapper
      AirGQL.GraphQL
      AirGQL.Introspection
      AirGQL.Lib
      AirGQL.Raw
      AirGQL.Servant.Database
      AirGQL.Servant.GraphQL
      AirGQL.Servant.SqlQuery
      AirGQL.ServerUtils
      AirGQL.Types.OutObjectType
      AirGQL.Types.PragmaConf
      AirGQL.Types.SchemaConf
      AirGQL.Types.SqlQueryPostResult
      AirGQL.Types.TextNullable
      AirGQL.Types.Types
      AirGQL.Types.Utils
      AirGQL.Utils
      Server.Server
  other-modules:
      Paths_airgql
  autogen-modules:
      Paths_airgql
  hs-source-dirs:
      source
  default-extensions:
      DataKinds
      DeriveGeneric
      DerivingStrategies
      DuplicateRecordFields
      FlexibleContexts
      FlexibleInstances
      GADTs
      GeneralizedNewtypeDeriving
      ImportQualifiedPost
      LambdaCase
      MultiParamTypeClasses
      MultiWayIf
      NamedFieldPuns
      NoImplicitPrelude
      NumericUnderscores
      OverloadedRecordDot
      OverloadedStrings
      RankNTypes
      RecordWildCards
      ScopedTypeVariables
      StandaloneDeriving
      TupleSections
      TypeApplications
      TypeFamilies
      TypeOperators
      TypeSynonymInstances
      UndecidableInstances
  ghc-options: -fno-warn-orphans -fwrite-ide-info -Weverything -Wno-all-missed-specialisations -Wno-missing-deriving-strategies -Wno-missing-kind-signatures -Wno-missing-safe-haskell-mode -Wno-unsafe
  build-depends:
      aeson >=2.1.2.1 && <2.3
    , base >=4.18.2 && <4.19
    , blaze-markup >=0.8.3 && <0.9
    , bytestring >=0.11.5 && <0.12
    , conduit >=1.3.5 && <1.4
    , directory >=1.3.8 && <1.4
    , double-x-encoding >=1.2.1 && <1.3
    , exceptions >=0.10.7 && <0.11
    , extra >=1.7.14 && <1.8
    , filepath >=1.4.200 && <1.5
    , graphql >=1.2.0.1 && <1.4
    , graphql-spice >=1.0.2 && <1.1
    , http-types >=0.12.4 && <0.13
    , process >=1.6.17 && <1.7
    , protolude >=0.3.4 && <0.4
    , scientific >=0.3.7 && <0.4
    , servant >=0.20.1 && <0.21
    , servant-blaze >=0.9.1 && <0.10
    , servant-docs ==0.13.*
    , servant-multipart >=0.12.1 && <0.13
    , servant-server ==0.20.*
    , simple-sql-parser >=0.6.1 && <0.8
    , sqlite-simple >=0.4.19 && <0.5
    , template-haskell >=2.20.0 && <2.21
    , text >=2.0.2 && <2.1
    , time >=1.12.2 && <1.13
    , typed-process >=0.2.11 && <0.3
    , unix >=2.8.4 && <2.9
    , unordered-containers >=0.2.20 && <0.3
    , wai >=3.2.4 && <3.3
    , wai-extra >=3.1.14 && <3.2
  default-language: Haskell2010

executable airgql
  main-is: Main.hs
  other-modules:
      Paths_airgql
  autogen-modules:
      Paths_airgql
  hs-source-dirs:
      app
  default-extensions:
      DataKinds
      DeriveGeneric
      DerivingStrategies
      DuplicateRecordFields
      FlexibleContexts
      FlexibleInstances
      GADTs
      GeneralizedNewtypeDeriving
      ImportQualifiedPost
      LambdaCase
      MultiParamTypeClasses
      MultiWayIf
      NamedFieldPuns
      NoImplicitPrelude
      NumericUnderscores
      OverloadedRecordDot
      OverloadedStrings
      RankNTypes
      RecordWildCards
      ScopedTypeVariables
      StandaloneDeriving
      TupleSections
      TypeApplications
      TypeFamilies
      TypeOperators
      TypeSynonymInstances
      UndecidableInstances
  ghc-options: -fno-warn-orphans -fwrite-ide-info -Weverything -Wno-all-missed-specialisations -Wno-missing-deriving-strategies -Wno-missing-kind-signatures -Wno-missing-safe-haskell-mode -Wno-unsafe -threaded
  build-depends:
      airgql
    , base >=4.18.2 && <4.19
    , cmdargs >=0.10.22 && <0.11
    , githash >=0.1.7 && <0.2
    , http-client >=0.7.17 && <0.8
    , protolude >=0.3.4 && <0.4
    , sqlite-simple >=0.4.19 && <0.5
    , text >=2.0.2 && <2.1
    , wai >=3.2.4 && <3.3
    , wai-cors >=0.2.7 && <0.3
    , warp >=3.3.31 && <3.4
  default-language: Haskell2010
  if flag(lib-only)
    buildable: False
  else
    buildable: True

test-suite airgql-test
  type: exitcode-stdio-1.0
  main-is: Spec.hs
  other-modules:
      Tests.Utils
      Paths_airgql
  autogen-modules:
      Paths_airgql
  hs-source-dirs:
      tests
  default-extensions:
      DataKinds
      DeriveGeneric
      DerivingStrategies
      DuplicateRecordFields
      FlexibleContexts
      FlexibleInstances
      GADTs
      GeneralizedNewtypeDeriving
      ImportQualifiedPost
      LambdaCase
      MultiParamTypeClasses
      MultiWayIf
      NamedFieldPuns
      NoImplicitPrelude
      NumericUnderscores
      OverloadedRecordDot
      OverloadedStrings
      RankNTypes
      RecordWildCards
      ScopedTypeVariables
      StandaloneDeriving
      TupleSections
      TypeApplications
      TypeFamilies
      TypeOperators
      TypeSynonymInstances
      UndecidableInstances
  ghc-options: -fno-warn-orphans -fwrite-ide-info -Weverything -Wno-all-missed-specialisations -Wno-missing-deriving-strategies -Wno-missing-kind-signatures -Wno-missing-safe-haskell-mode -Wno-unsafe
  build-depends:
      aeson >=2.1.2.1 && <2.3
    , airgql
    , base >=4.18.2 && <4.19
    , bytestring >=0.11.5 && <0.12
    , directory >=1.3.8 && <1.4
    , exceptions >=0.10.7 && <0.11
    , filepath >=1.4.200 && <1.5
    , graphql >=1.2.0.1 && <1.4
    , graphql-spice >=1.0.2 && <1.1
    , hspec >=2.11.8 && <2.12
    , protolude >=0.3.4 && <0.4
    , servant-server ==0.20.*
    , sqlite-simple >=0.4.19 && <0.5
    , text >=2.0.2 && <2.1
    , unix >=2.8.4 && <2.9
    , unordered-containers >=0.2.20 && <0.3
  default-language: Haskell2010
