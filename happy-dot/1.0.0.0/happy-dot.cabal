-- Initial happy-dot.cabal generated by cabal init.  For further
-- documentation, see http://haskell.org/cabal/users-guide/

name:                happy-dot
version:             1.0.0.0
synopsis:            Parser for dot made with happy.
description:         A parser for the [DOT language](https://www.graphviz.org/doc/info/lang.html).
                     The parser is quite fast as it uses happy.
                     .
                     This library also includes some convenience functions for
                     outputing DOT files and for converting DOT files into
                     graphs.
license:             GPL-3
license-file:        LICENSE
author:              Marcelo Garlet Millani
maintainer:          marcelogmillani@gmail.com
-- copyright:
category:            Language
build-type:          Simple
extra-source-files:  CHANGELOG.md
cabal-version:       >=1.10

library
  exposed-modules: Language.Dot.Parser, Language.Dot.Graph, Language.Dot.Utils, Language.Dot.Pretty
  -- other-modules:
  -- other-extensions:
  build-depends:       base >=4.8 && <5, transformers >= 0.5, array >= 0.5, pretty >= 1.1
  other-modules:       HappyDot.Parser
  hs-source-dirs:      src
  default-language:    Haskell2010
  build-tools:         happy

test-suite test-ast
  main-is:          TestAST.hs
  other-modules:    Language.Dot.Parser, HappyDot.Parser, Language.Dot.Graph
  hs-source-dirs:   src, tests/AST
  type:             exitcode-stdio-1.0
  build-depends:    base >=4.8 && <5, xml >= 1.3, transformers >= 0.5, array >= 0.5, HUnit >= 1.6
  default-language: Haskell2010
test-suite test-pretty
  main-is:          TestPretty.hs
  other-modules:    Language.Dot.Parser, HappyDot.Parser, Language.Dot.Pretty, Language.Dot.Graph
  hs-source-dirs:   src, tests/Pretty
  type:             exitcode-stdio-1.0
  build-depends:    base >=4.8 && <5, xml >= 1.3, transformers >= 0.5, array >= 0.5, HUnit >= 1.6, pretty >= 1.1
  default-language: Haskell2010
test-suite test-utils
  main-is:          TestUtils.hs
  other-modules:    Language.Dot.Parser, HappyDot.Parser, Language.Dot.Utils, Language.Dot.Graph
  hs-source-dirs:   src, tests/Utils
  type:             exitcode-stdio-1.0
  build-depends:    base >=4.8 && <5, xml >= 1.3, transformers >= 0.5, array >= 0.5, HUnit >= 1.6
  default-language: Haskell2010

Benchmark bench-happy-dot
  type:           exitcode-stdio-1.0
  main-is:        HappyDotBench.hs
  other-modules:  Language.Dot.Parser, Language.Dot.Utils, HappyDot.Parser, Language.Dot.Graph, GraphGenerator
  hs-source-dirs: src, benchmarks
  build-depends:  base >=4.8 && <5, xml >= 1.3, transformers >= 0.5, array >= 0.5, clock >= 0.7
  default-language:    Haskell2010
Benchmark bench-language-dot
  type:           exitcode-stdio-1.0
  main-is:        LanguageDotBench.hs
  other-modules:  GraphGenerator
  hs-source-dirs: benchmarks
  build-depends:  base >=4.8 && <5, xml >= 1.3, transformers >= 0.5, array >= 0.5, clock >= 0.7, language-dot
  default-language:    Haskell2010

source-repository head
  type:     git
  location: https://gitlab.com/mgmillani/happy-dot
