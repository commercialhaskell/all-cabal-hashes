cabal-version: >=1.10
name: mbug
version: 1.3
license: GPL-3
license-file: LICENSE
copyright: 2018 Dmitry Bogatov
maintainer: KAction@gnu.org
author: Dmitry Bogatov
homepage: https://gitlab.com/iu-guest/mbug
synopsis: download bugs mailboxes
description:
    See readme at https://gitlab.com/iu-guest/mbug
category: Debian
build-type: Simple
extra-source-files:
    README.md

flag devel
    description:
        Enable -Werror GHC flag. Use only during development!
    default: False
    manual: True

library
    exposed-modules:
        MBug.Main
        MBug.Data.Bug
        MBug.Data.FolderMH
        MBug.Options
        MBug.Scrape
        MBug.Cache
        MBug.MH
        Data.Maybe.Extended
        Text.HTML.Scalpel.Core.Extended
    hs-source-dirs: src
    other-modules:
        Data.Text.Compat
        Options.Applicative.Compat
        Paths_mbug
    default-language: Haskell2010
    build-depends:
        base >=4.9 && <5,
        bytestring ==0.10.*,
        directory ==1.3.*,
        extra >=1.5 && <1.7,
        formatting >=6.0 && <6.4,
        http-client ==0.5.*,
        http-client-tls ==0.3.*,
        mtl >=2.2.2 && <2.3,
        optparse-applicative >=0.13 && <0.15,
        process >=1.4 && <1.7,
        scalpel-core ==0.5.*,
        tagsoup ==0.14.*,
        text ==1.2.*,
        time >=1.6 && <1.9,
        xdg-basedir ==0.2.*
    
    if flag(devel)
        ghc-options: -Wall -Wextra -Werror -Wincomplete-patterns
                     -Wunused-imports

executable mbug
    main-is: mbug.hs
    hs-source-dirs: bin
    other-modules:
        Paths_mbug
    default-language: Haskell2010
    build-depends:
        base >=4.9 && <5,
        bytestring ==0.10.*,
        directory ==1.3.*,
        extra >=1.5 && <1.7,
        formatting >=6.0 && <6.4,
        http-client ==0.5.*,
        http-client-tls ==0.3.*,
        mbug -any,
        mtl >=2.2.2 && <2.3,
        optparse-applicative >=0.13 && <0.15,
        process >=1.4 && <1.7,
        scalpel-core ==0.5.*,
        tagsoup ==0.14.*,
        text ==1.2.*,
        time >=1.6 && <1.9,
        xdg-basedir ==0.2.*
    
    if flag(devel)
        ghc-options: -Wall -Wextra -Werror -Wincomplete-patterns
                     -Wunused-imports
