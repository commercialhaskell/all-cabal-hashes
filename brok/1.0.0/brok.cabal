cabal-version: 1.12
name: brok
version: 1.0.0
license: BSD3
license-file: LICENSE
copyright: 2019 Small Hadron Collider
maintainer: mark@smallhadroncollider.com
author: Small Hadron Collider
homepage: https://github.com/smallhadroncollider/brok#readme
bug-reports: https://github.com/smallhadroncollider/brok/issues
synopsis: Finds broken links in text files
description:
    Please see the README on GitHub at <https://github.com/smallhadroncollider/brok#readme>
category: Command Line Tools
build-type: Simple
extra-source-files:
    README.md
    template/usage.txt

source-repository head
    type: git
    location: https://github.com/smallhadroncollider/brok

library
    exposed-modules:
        Brok
        Brok.IO.CLI
        Brok.IO.DB
        Brok.IO.Document
        Brok.IO.Http
        Brok.IO.Output
        Brok.Options
        Brok.Parser.Attoparsec
        Brok.Parser.DB
        Brok.Parser.Links
        Brok.Parser.Options
        Brok.Types.Brok
        Brok.Types.Config
        Brok.Types.Link
        Brok.Types.Next
        Brok.Types.Result
        Brok.Types.URL
    hs-source-dirs: src
    other-modules:
        Paths_brok
    default-language: Haskell2010
    default-extensions: OverloadedStrings NoImplicitPrelude
    build-depends:
        ansi-terminal >=0.10.3 && <0.11,
        attoparsec >=0.13.2.4 && <0.14,
        base >=4.7 && <5,
        classy-prelude >=1.5.0 && <1.6,
        connection >=0.3.1 && <0.4,
        directory >=1.3.6.0 && <1.4,
        file-embed >=0.0.11.2 && <0.1,
        http-client >=0.6.4.1 && <0.7,
        http-client-tls >=0.3.5.3 && <0.4,
        http-conduit >=2.3.7.3 && <2.4,
        template-haskell >=2.15.0.0 && <2.16,
        text >=1.2.4.0 && <1.3,
        time >=1.9.3 && <1.10

executable brok
    main-is: Main.hs
    hs-source-dirs: app
    other-modules:
        Paths_brok
    default-language: Haskell2010
    default-extensions: OverloadedStrings NoImplicitPrelude
    ghc-options: -threaded -rtsopts -with-rtsopts=-N
    build-depends:
        base >=4.7 && <5,
        brok -any,
        classy-prelude >=1.5.0 && <1.6,
        file-embed >=0.0.11.2 && <0.1

test-suite brok-test
    type: exitcode-stdio-1.0
    main-is: Spec.hs
    hs-source-dirs: test
    other-modules:
        IO.HttpTest
        OptionsTest
        Parser.DBTest
        Parser.LinksTest
        Paths_brok
    default-language: Haskell2010
    default-extensions: OverloadedStrings NoImplicitPrelude
    ghc-options: -threaded -rtsopts -with-rtsopts=-N
    build-depends:
        base >=4.7 && <5,
        brok -any,
        classy-prelude >=1.5.0 && <1.6,
        file-embed >=0.0.11.2 && <0.1,
        tasty >=1.2.3 && <1.3,
        tasty-discover >=4.2.1 && <4.3,
        tasty-expected-failure >=0.11.1.2 && <0.12,
        tasty-hunit >=0.10.0.2 && <0.11
