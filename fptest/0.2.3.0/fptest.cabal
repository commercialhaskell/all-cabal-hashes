name:                fptest

-- The package version.  See the Haskell package versioning policy (PVP) 
-- for standards guiding when and how versions should be incremented.
-- http://www.haskell.org/haskellwiki/Package_versioning_policy
-- PVP summary:      +-+------- breaking API changes
--                   | | +----- non-breaking API additions
--                   | | | +--- code changes with no API change
version:             0.2.3.0

synopsis:            IEEE754r floating point conformance tests

description:            A series of floating point conformance tests for Haskell.

                        Currently implemented are:

                        QTrial, the floating point benchmark described in / IEEE Standard 754 for Binary Floating-Point
                        Arithmetic / by Prof. W. Kahan <http://www.eecs.berkeley.edu/~wkahan/ieee754status/IEEE754.PDF>

                        This can be run with a simple @cabal run qtrial@.

                        
                        FPTest runs a sequence of floating point test vectors generated by IBM's
                        <https://www.research.ibm.com/haifa/projects/verification/fpgen/ FPGen Floating-Point Test Generator>.

                        This is done either by interpreting the tests or by translating the tests
                        into a Haskell HUnit test suite script that can just be executed using
                        @runhaskell@.

                        The IBM test vectors are available from
                        <https://www.research.ibm.com/haifa/projects/verification/fpgen/ here>.

                        You will, most likely, want the binary tests unless you have a decimal machine.
                        Only 32-bit float tests are provided (not 64-bit double ones) although FPTest supports Doubles.

                        The syntax of the test vectors can be found 
                        <https://www.research.ibm.com/haifa/projects/verification/fpgen/syntax.txt here> or in Chapter 4
                        <https://www.research.ibm.com/haifa/projects/verification/fpgen/papers/ieee-test-suite-v2.pdfs
                           Floating-Point Test-Suite for IEEE here>

homepage:            https://github.com/jrp2014/fptest

license:             BSD3

license-file:        LICENSE

author:              John Pavel

maintainer:          jrp@dial.pipex.com

bug-reports:            https://github.com/jrp2014/fptest/issues

stability:              alpha

copyright:           2014, 2018 John Pavel and 2004 IBM Corp

category:            Math

tested-with:            GHC ==7.8.3

data-files:             *.fptest
data-dir:               test_suite

build-type:          Simple

extra-source-files:  README.md

cabal-version:       >=1.10

source-repository head
  type:                 git
  location:             https://github.com/jrp2014/fptest.git
  branch:               master


executable qtrial
  main-is:             QTrial.hs
  build-depends:       base >=4.7 && <5, test-framework >=0.8 && <0.9, test-framework-hunit >=0.3 && <0.4, HUnit >=1.2 && <1.7, parsec3-numbers >=0.0 && <0.2, QuickCheck >=2.7 && <3, test-framework-quickcheck2 >=0.3 && <0.4
  hs-source-dirs:      src
  ghc-options:          -Wall -fno-warn-missing-signatures
  default-language:    Haskell2010
  
executable fptest
  build-depends:         base >=4.7 && <5, parsec >=3.1 && <3.2, test-framework >=0.8 && <0.9, test-framework-hunit >=0.3 && <0.4, HUnit >=1.2 && <1.7, parsec3-numbers >=0.0 && <0.2, QuickCheck >=2.7 && <3, test-framework-quickcheck2 >=0.3 && <0.4
  main-is:              FPMain.hs
  hs-source-dirs:       src
  ghc-options:          -Wall
  other-modules:        FPTypes, FPParse, FPRun
  default-language:    Haskell2010


-- TODO:: put these tests into a separate test file
test-suite qtrial-quickcheck
  build-depends:         base >=4.7 && <5, parsec >=3.1 && <3.2, test-framework >=0.8 && <0.9, test-framework-hunit >=0.3 && <0.4, HUnit >=1.2 && <1.7, parsec3-numbers >=0.0 && <0.2, QuickCheck >=2.7 && <3, test-framework-quickcheck2 >=0.3 && <0.4

  default-language:     Haskell2010
  hs-source-dirs:       src
  main-is:              QTrial.hs
  type:                 exitcode-stdio-1.0

test-suite fptest-quickcheck
  build-depends:         base >=4.7 && <5, parsec >=3.1 && <3.2, test-framework >=0.8 && <0.9, test-framework-hunit >=0.3 && <0.4, HUnit >=1.2 && <1.7, parsec3-numbers >=0.0 && <0.2, QuickCheck >=2.7 && <3, test-framework-quickcheck2 >=0.3 && <0.4

  default-language:     Haskell2010
  hs-source-dirs:       test src
  main-is:              FPTestTest.hs
  type:                 exitcode-stdio-1.0

test-suite doctest
  build-depends:    base, doctest, Glob
  default-language: Haskell2010
  hs-source-dirs:   test
  main-is:          DocTest.hs
  type:             exitcode-stdio-1.0


test-suite haddock
  build-depends:    base, process, regex-compat
  default-language: Haskell2010
  hs-source-dirs:   test
  main-is:          Haddock.hs
  type:             exitcode-stdio-1.0

test-suite hlint
  build-depends:    base, hlint
  default-language: Haskell2010
  hs-source-dirs:   test
  main-is:          HLint.hs
  type:             exitcode-stdio-1.0
