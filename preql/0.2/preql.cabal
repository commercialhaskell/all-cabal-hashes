cabal-version: 1.18
name: preql
version: 0.2
license: BSD3
license-file: LICENSE
maintainer: bergey@teallabs.org
author: Daniel Bergey
homepage: https://github.com/bergey/preql#readme
bug-reports: https://github.com/bergey/preql/issues
synopsis: safe PostgreSQL queries using Quasiquoters
description:
    Before you Post(gres)QL, preql.
    .
    @preql@ provides a low-level interface to PostgreSQL and a quasiquoter that converts
    inline variable names to SQL parameters.  Higher-level interfaces, checking SQL syntax &
    schema, are planned.
    .
    the [quickstart](https://github.com/bergey/preql#quickstart)
    or the [vision](https://github.com/bergey/preql#vision-parsing-sql-in-haskell-quasiquotes)
    .
    Most applications will want to import the top-level module @Preql@.  When writing @SQL@
    instances or your own higher-level abstractions, you may want the lower-level,
    IO-specific functions in @Preql.Wire@, not all of which are re-exported from @Preql@.
    .
category: Database, PostgreSQL
build-type: Simple
extra-doc-files: CHANGELOG.md

source-repository head
    type: git
    location: https://github.com/bergey/preql

library
    exposed-modules:
        Preql
        Preql.Effect
        Preql.Effect.Internal
        Preql.Imports
        Preql.QuasiQuoter.Raw.Lex
        Preql.QuasiQuoter.Raw.TH
        Preql.Wire
        Preql.Wire.Errors
        Preql.Wire.FromSql
        Preql.Wire.Internal
        Preql.Wire.Orphans
        Preql.Wire.Query
        Preql.Wire.ToSql
        Preql.Wire.Tuples
        Preql.Wire.TypeInfo.Static
        Preql.Wire.TypeInfo.Types
        Preql.Wire.Types
    build-tools: alex -any, happy -any
    hs-source-dirs: src
    other-modules:
        Paths_preql
    default-language: Haskell2010
    default-extensions: OverloadedStrings
    build-depends:
        aeson >=1.3.1 && <1.5,
        array >=0.5.2 && <0.6,
        base >=4.11 && <4.14,
        binary-parser >=0.5.5 && <0.6,
        bytestring >=0.10.8 && <0.11,
        bytestring-strict-builder >=0.4.5 && <0.5,
        contravariant >=1.4.1 && <1.6,
        free >=5.0.2 && <5.2,
        mtl >=2.2.2 && <2.3,
        postgresql-binary >=0.12.1 && <0.13,
        postgresql-libpq >=0.9.4 && <0.10,
        scientific >=0.3.6 && <0.4,
        template-haskell >=2.13.0 && <2.16,
        text >=1.2.3 && <1.3,
        th-lift-instances >=0.1.11 && <0.2,
        time >=1.8.0 && <1.10,
        transformers >=0.5.5 && <0.6,
        uuid >=1.3.13 && <1.4,
        vector >=0.12.0 && <0.13

test-suite tests
    type: exitcode-stdio-1.0
    main-is: Test.hs
    build-tools: alex -any, happy -any
    hs-source-dirs: test
    other-modules:
        Test.Wire
        Paths_preql
    default-language: Haskell2010
    default-extensions: OverloadedStrings
    build-depends:
        aeson >=1.3.1 && <1.5,
        array >=0.5.2 && <0.6,
        base >=4.11 && <4.14,
        binary-parser >=0.5.5 && <0.6,
        bytestring <0.11,
        bytestring-strict-builder >=0.4.5 && <0.5,
        contravariant >=1.4.1 && <1.6,
        free >=5.0.2 && <5.2,
        mtl >=2.2.2 && <2.3,
        postgresql-binary >=0.12.1 && <0.13,
        postgresql-libpq <0.10,
        preql -any,
        scientific >=0.3.6 && <0.4,
        tasty <1.3,
        tasty-hunit <0.11,
        template-haskell >=2.13.0 && <2.16,
        text <1.3,
        th-lift-instances >=0.1.11 && <0.2,
        time >=1.8.0 && <1.10,
        transformers >=0.5.5 && <0.6,
        uuid <1.4,
        vector <0.13
