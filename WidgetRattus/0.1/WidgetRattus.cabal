cabal-version:       1.18
name:                WidgetRattus
version:             0.1
category:            FRP
synopsis:            An asynchronous modal FRP language
description:

            This library implements an experimental variant of the Async Rattus
            programming language that features extensions for implementing GUIs.
            


homepage:            https://github.com/pa-ba/AsyncRattus/
bug-reports:         https://github.com/pa-ba/AsyncRattus/issues
License:             BSD3
License-file:        LICENSE
copyright:           Copyright (C) 2023 Emil Houlborg, Gregers Rørdam, Patrick Bahr
Author:              Emil Houlborg, Gregers Rørdam, Patrick Bahr
maintainer:          Patrick Bahr <paba@itu.dk>
stability:           experimental

build-type:          Custom

extra-source-files:  CHANGELOG.md
                     
custom-setup
  setup-depends:
    base  >= 4.5 && < 5,
    Cabal >= 1.18  && < 4


library
  exposed-modules:     AsyncRattus
                       AsyncRattus.Signal
                       AsyncRattus.Future
                       AsyncRattus.Strict
                       AsyncRattus.Plugin
                       AsyncRattus.Primitives
                       AsyncRattus.InternalPrimitives
                       AsyncRattus.Channels
                       AsyncRattus.Plugin.Annotation
                                              
  other-modules:       AsyncRattus.Plugin.ScopeCheck
                       AsyncRattus.Plugin.SingleTick
                       AsyncRattus.Plugin.CheckClockCompatibility
                       AsyncRattus.Plugin.Strictify
                       AsyncRattus.Plugin.Utils
                       AsyncRattus.Plugin.Dependency
                       AsyncRattus.Plugin.StableSolver
                       AsyncRattus.Plugin.Transform
                       AsyncRattus.Plugin.PrimExpr
                       AsyncRattus.Derive
  build-depends:       base >=4.16 && <5,
                       containers >= 0.6.5 && < 0.8,
                       ghc >= 9.2 && < 9.9,
                       ghc-boot >= 9.2 && < 9.9,
                       hashtables >= 1.3.1 && < 1.4,
                       simple-affine-space >= 0.2.1 && < 0.3,
                       transformers >= 0.5.6 && < 0.7,
                       template-haskell >= 2.19 && < 2.22
  hs-source-dirs:      src
  default-language:    Haskell2010
  ghc-options:         -W



Test-Suite ill-typed
  type:                exitcode-stdio-1.0
  main-is:             test/IllTyped.hs
  default-language:    Haskell2010
  build-depends:       AsyncRattus, base
  ghc-options:         -fplugin=AsyncRattus.Plugin


Test-Suite well-typed
  type:                exitcode-stdio-1.0
  main-is:             WellTyped.hs
  hs-source-dirs:      test
  default-language:    Haskell2010
  build-depends:       AsyncRattus, base, containers, text
  ghc-options:         -fplugin=AsyncRattus.Plugin

