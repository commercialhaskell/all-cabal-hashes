cabal-version: 2.2
name: ucam-webauth-types
version: 0.1.0.0
x-revision: 4
license: (BSD-3-Clause OR Apache-2.0)
license-file: LICENSE
copyright: 2018 David Baynard
maintainer: David Baynard <ucamwebauth@baynard.me>
author: David Baynard <ucamwebauth@baynard.me>
homepage: https://github.com/dbaynard/UcamWebauth#readme
bug-reports: https://github.com/dbaynard/UcamWebauth/issues
synopsis: Types for the Ucam-Webauth protocol, as used by Raven
description:
    Types for the implementation of the Ucam-Webauth protocol, as used by the
    University of Cambridgeâ€™s Raven authentication service.
category: Web
build-type: Simple
extra-source-files:
    Changelog.md
    README.md

source-repository head
    type: git
    location: https://github.com/dbaynard/UcamWebauth

flag dev
    description:
        Compile for development
    default: False
    manual: True

library
    exposed-modules:
        Data.ByteString.B64
        UcamWebauth.Data
        UcamWebauth.Data.Internal
    hs-source-dirs: src
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates -Wcompat -Wnoncanonical-monad-instances
                 -Wnoncanonical-monadfail-instances
    build-depends:
      aeson >=1.2 && <1.5,
      base >=4.11.0.0 && <4.13,
      base64-bytestring >=1.0.0.1 && <1.1,
      bytestring >=0.10.8.2 && <0.11,
      case-insensitive >=1.2.0.11 && <1.3,
      containers >=0.5.11.0 && <0.7,
      deepseq >=1.4.3.0 && <1.5,
      http-types >=0.12.2 && <0.13,
      microlens >=0.4.9.1 && <0.5,
      microlens-mtl >=0.1.11.1 && <0.3,
      mtl >=2.2.2 && <2.3,
      text >=0.11 && <1.2.3.0 || >=1.2.3.1 && <1.3,
      time >=1.8.0.2 && <1.10,
      timerep >=2.0.0.2 && <2.1
    
    if flag(dev)
        ghc-options: -ddump-minimal-imports

test-suite test
    type: exitcode-stdio-1.0
    main-is: Spec.hs
    build-tool-depends: hspec-discover:hspec-discover -any
    hs-source-dirs: test
    other-modules:
        Paths_ucam_webauth_types
    autogen-modules:
        Paths_ucam_webauth_types
    default-language: Haskell2010
    ghc-options: -Wall -Wincomplete-uni-patterns
                 -Wincomplete-record-updates -Wcompat -Wnoncanonical-monad-instances
                 -Wnoncanonical-monadfail-instances
    build-depends:
        base >=4.11.0.0 && <4.13,
        hspec >=2.0.0 && <2.8
    
    if flag(dev)
        ghc-options: -ddump-minimal-imports
