name:                legion-discovery
version:             1.0.0.1
synopsis:            A discovery service based on Legion.

description:         A simple service discovery service based on Legion,
                     that natively supports the idea of interface
                     versions, and the idea that clients may only be
                     interested in finding certain (compatible) versions
                     of the services they are looking for.

homepage:            https://github.com/owensmurray/legion-discovery#readme
license:             Apache-2.0
license-file:        LICENSE
author:              Rick Owens
maintainer:          rick@owensmurray.com
copyright:           2016 Rick Owens
category:            value
build-type:          Simple
extra-source-files:  README.md
cabal-version:       >=1.10

library
  hs-source-dirs: src
  exposed-modules:
    Network.Legion.Discovery.Main
  other-modules:
    Network.Legion.Discovery.Api
    Network.Legion.Discovery.Config
    Network.Legion.Discovery.Graphviz
    Network.Legion.Discovery.LegionApp
    Network.Legion.Discovery.Server
    Paths_legion_discovery
  build-depends:
    Cabal              >= 1.24.0.0    && < 1.25,
    SHA                >= 1.6.4.1     && < 1.7,
    aeson              >= 0.11.2.1    && < 1.1,
    attoparsec         >= 0.13.1.0    && < 0.14,
    base               >= 4.8         && < 4.10,
    binary             >= 0.8.3.0     && < 0.9,
    bytestring         >= 0.10.8.1    && < 0.11,
    canteven-http      >= 0.1.2.0     && < 0.2,
    canteven-log       >= 2.0.0.1     && < 2.1,
    conduit            >= 1.2.8       && < 1.3,
    containers         >= 0.5.7.1     && < 0.6,
    data-default-class >= 0.1.2.0     && < 0.2,
    ekg                >= 0.4.0.11    && < 0.5,
    graphviz           >= 2999.18.1.2 && < 2999.19,
    http-api-data      >= 0.2.4       && < 0.4,
    http-grammar       >= 0.1.0.0     && < 0.2,
    legion             >= 0.9         && < 0.10,
    legion-extra       >= 0.1.2.0     && < 0.2,
    monad-logger       >= 0.3.20.1    && < 0.4,
    mtl                >= 2.2.1       && < 2.3,
    servant-server     >= 0.8.1       && < 0.10,
    text               >= 1.2.2.1     && < 1.3,
    time               >= 1.6.0.1     && < 1.7,
    wai                >= 3.2.1.1     && < 3.3,
    wai-extra          >= 3.0.19      && < 3.1,
    warp               >= 3.2.9       && < 3.3
  default-language:
    Haskell2010

executable legion-discovery
  hs-source-dirs: app
  main-is: legion-discovery.hs
  ghc-options: -threaded -rtsopts -with-rtsopts=-N
  build-depends:
    base,
    legion-discovery
  default-language: Haskell2010

test-suite legion-discovery-test
  type: exitcode-stdio-1.0
  hs-source-dirs: test
  main-is: Spec.hs
  build-depends:
    base,
    legion-discovery
  ghc-options: -threaded -rtsopts -with-rtsopts=-N
  default-language: Haskell2010

source-repository head
  type: git
  location: https://github.com/owensmurray/legion-discovery
