cabal-version:   1.18
name:            bugsnag-yesod
version:         1.0.1.0
license:         MIT
license-file:    LICENSE
maintainer:      pbrisbin@gmail.com
author:          Patrick Brisbin
homepage:        https://github.com/pbrisbin/bugsnag-haskell#readme
synopsis:        Yesod integration for Bugsnag error reporting for Haskell
description:     Please see README.md
category:        Web
build-type:      Simple
extra-doc-files:
    CHANGELOG.md
    README.md

flag examples
    description: Build the examples
    default:     False

library
    exposed-modules:    Network.Bugsnag.Yesod
    hs-source-dirs:     src
    other-modules:      Paths_bugsnag_yesod
    default-language:   Haskell2010
    default-extensions:
        BangPatterns DataKinds DeriveAnyClass DeriveFoldable DeriveFunctor
        DeriveGeneric DeriveLift DeriveTraversable DerivingStrategies
        FlexibleContexts FlexibleInstances GADTs GeneralizedNewtypeDeriving
        LambdaCase MultiParamTypeClasses NoImplicitPrelude
        NoMonomorphismRestriction OverloadedStrings RankNTypes
        RecordWildCards ScopedTypeVariables StandaloneDeriving
        TypeApplications TypeFamilies

    build-depends:
        annotated-exception >=0.2.0.2,
        base >=4.11.0 && <5,
        bugsnag >=1.0.0.1,
        bugsnag-wai >=1.0.0.1,
        unliftio >=0.2.9.0,
        wai >=3.2.1.2,
        yesod-core >=1.6.9

executable example-yesod
    main-is:            Main.hs
    hs-source-dirs:     example
    other-modules:      Paths_bugsnag_yesod
    default-language:   Haskell2010
    default-extensions:
        BangPatterns DataKinds DeriveAnyClass DeriveFoldable DeriveFunctor
        DeriveGeneric DeriveLift DeriveTraversable DerivingStrategies
        FlexibleContexts FlexibleInstances GADTs GeneralizedNewtypeDeriving
        LambdaCase MultiParamTypeClasses NoImplicitPrelude
        NoMonomorphismRestriction OverloadedStrings RankNTypes
        RecordWildCards ScopedTypeVariables StandaloneDeriving
        TypeApplications TypeFamilies

    build-depends:
        base >=4.11.0 && <5,
        bugsnag >=1.0.0.1,
        bugsnag-yesod,
        warp >=3.2.25,
        yesod-core >1.6

    if !flag(examples)
        buildable: False
