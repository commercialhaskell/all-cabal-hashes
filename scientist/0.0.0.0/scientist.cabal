cabal-version: 1.12
name:          scientist
version:       0.0.0.0
license:       MIT
license-file:  LICENSE
maintainer:    Freckle Education
homepage:      https://github.com/freckle/scientist-hs#readme
bug-reports:   https://github.com/freckle/scientist-hs/issues
synopsis:      A Haskell library for carefully refactoring critical paths.
description:   Please see README.md
category:      Utils
build-type:    Simple

source-repository head
    type:     git
    location: https://github.com/freckle/scientist-hs

library
    exposed-modules:
        Scientist
        Scientist.Candidate
        Scientist.Control
        Scientist.Duration
        Scientist.Experiment
        Scientist.Experiment.Run
        Scientist.NamedCandidate
        Scientist.Result
        Scientist.Result.Evaluate

    hs-source-dirs:     library
    other-modules:      Paths_scientist
    default-language:   Haskell2010
    default-extensions: NoImplicitPrelude
    ghc-options:
        -Weverything -Wno-missing-exported-signatures
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-monomorphism-restriction -Wno-unsafe -Wno-safe

    build-depends:
        MonadRandom >=0.5.1.1,
        base >4 && <5,
        clock >=0.7.2,
        random-shuffle >=0.0.4,
        text >=1.2.3.1,
        unliftio >=0.2.9.0,
        unliftio-core >=0.1.2.0

    if impl(ghc >=8.10)
        ghc-options:
            -Wno-missing-safe-haskell-mode -Wno-prepositive-qualified-module

test-suite readme
    type:               exitcode-stdio-1.0
    main-is:            README.lhs
    other-modules:      Paths_scientist
    default-language:   Haskell2010
    default-extensions: NoImplicitPrelude
    ghc-options:
        -Weverything -Wno-missing-exported-signatures
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-monomorphism-restriction -Wno-unsafe -Wno-safe -pgmL
        markdown-unlit

    build-depends:
        base >4 && <5,
        markdown-unlit >=0.5.0,
        scientist -any,
        text >=1.2.3.1,
        unliftio >=0.2.9.0,
        unliftio-core >=0.1.2.0

    if impl(ghc >=8.10)
        ghc-options:
            -Wno-missing-safe-haskell-mode -Wno-prepositive-qualified-module

test-suite spec
    type:               exitcode-stdio-1.0
    main-is:            Spec.hs
    hs-source-dirs:     tests
    other-modules:
        Scientist.Experiment.RunSpec
        Scientist.ExperimentSpec
        Scientist.Test
        Paths_scientist

    default-language:   Haskell2010
    default-extensions: NoImplicitPrelude
    ghc-options:
        -Weverything -Wno-missing-exported-signatures
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-monomorphism-restriction -Wno-unsafe -Wno-safe

    build-depends:
        base >4 && <5,
        hspec >=2.5.5,
        scientist -any,
        unliftio >=0.2.9.0

    if impl(ghc >=8.10)
        ghc-options:
            -Wno-missing-safe-haskell-mode -Wno-prepositive-qualified-module
