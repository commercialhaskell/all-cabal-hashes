cabal-version:   1.18
name:            escaped
version:         1.1.0.0
license:         MIT
license-file:    LICENSE
copyright:       2018 Patrick Brisbin
maintainer:      pbrisbin@gmail.com
author:          Patrick Brisbin
homepage:        https://github.com/pbrisbin/escaped#readme
bug-reports:     https://github.com/pbrisbin/escaped/issues
synopsis:        Produce Text with terminal escape sequences
description:     See README.md
category:        Text
build-type:      Simple
extra-doc-files:
    README.md
    CHANGELOG.md

source-repository head
    type:     git
    location: https://github.com/pbrisbin/escaped

library
    exposed-modules:    Data.Text.Escaped
    hs-source-dirs:     src
    other-modules:      Paths_escaped
    default-language:   Haskell2010
    default-extensions:
        DerivingStrategies ImportQualifiedPost LambdaCase NoImplicitPrelude
        OverloadedStrings

    ghc-options:
        -fignore-optim-changes -fwrite-ide-info -Weverything
        -Wno-all-missed-specialisations -Wno-missed-specialisations
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-missing-safe-haskell-mode -Wno-monomorphism-restriction
        -Wno-prepositive-qualified-module -Wno-safe -Wno-unsafe

    build-depends:
        QuickCheck >=2.14.2,
        base >=4 && <5,
        quickcheck-instances >=0.3.25.2,
        text >=1.2.4.1,
        unix >=2.7.2.2

    if impl(ghc >=9.8)
        ghc-options:
            -Wno-missing-role-annotations -Wno-missing-poly-kind-signatures

    if impl(ghc >=9.2)
        ghc-options: -Wno-missing-kind-signatures

executable escaped-example
    main-is:            Main.hs
    hs-source-dirs:     app
    other-modules:      Paths_escaped
    default-language:   Haskell2010
    default-extensions:
        DerivingStrategies ImportQualifiedPost LambdaCase NoImplicitPrelude
        OverloadedStrings

    ghc-options:
        -fignore-optim-changes -fwrite-ide-info -Weverything
        -Wno-all-missed-specialisations -Wno-missed-specialisations
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-missing-safe-haskell-mode -Wno-monomorphism-restriction
        -Wno-prepositive-qualified-module -Wno-safe -Wno-unsafe -threaded
        -rtsopts -with-rtsopts=-N

    build-depends:
        base >=4 && <5,
        escaped,
        text >=1.2.4.1

    if impl(ghc >=9.8)
        ghc-options:
            -Wno-missing-role-annotations -Wno-missing-poly-kind-signatures

    if impl(ghc >=9.2)
        ghc-options: -Wno-missing-kind-signatures

test-suite doctest
    type:               exitcode-stdio-1.0
    main-is:            Main.hs
    hs-source-dirs:     doctest
    other-modules:      Paths_escaped
    default-language:   Haskell2010
    default-extensions:
        DerivingStrategies ImportQualifiedPost LambdaCase NoImplicitPrelude
        OverloadedStrings

    ghc-options:
        -fignore-optim-changes -fwrite-ide-info -Weverything
        -Wno-all-missed-specialisations -Wno-missed-specialisations
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-missing-safe-haskell-mode -Wno-monomorphism-restriction
        -Wno-prepositive-qualified-module -Wno-safe -Wno-unsafe -threaded
        -rtsopts -with-rtsopts=-N

    build-depends:
        base >=4 && <5,
        doctest >=0.17

    if impl(ghc >=9.8)
        ghc-options:
            -Wno-missing-role-annotations -Wno-missing-poly-kind-signatures

    if impl(ghc >=9.2)
        ghc-options: -Wno-missing-kind-signatures

test-suite hspec
    type:               exitcode-stdio-1.0
    main-is:            Spec.hs
    hs-source-dirs:     test
    other-modules:
        Data.Text.EscapedSpec
        Paths_escaped

    default-language:   Haskell2010
    default-extensions:
        DerivingStrategies ImportQualifiedPost LambdaCase NoImplicitPrelude
        OverloadedStrings

    ghc-options:
        -fignore-optim-changes -fwrite-ide-info -Weverything
        -Wno-all-missed-specialisations -Wno-missed-specialisations
        -Wno-missing-import-lists -Wno-missing-local-signatures
        -Wno-missing-safe-haskell-mode -Wno-monomorphism-restriction
        -Wno-prepositive-qualified-module -Wno-safe -Wno-unsafe -threaded
        -rtsopts -with-rtsopts=-N

    build-depends:
        QuickCheck >=2.14.2,
        base >=4 && <5,
        escaped,
        hspec >=2.7.10,
        quickcheck-properties >=0.1

    if impl(ghc >=9.8)
        ghc-options:
            -Wno-missing-role-annotations -Wno-missing-poly-kind-signatures

    if impl(ghc >=9.2)
        ghc-options: -Wno-missing-kind-signatures
