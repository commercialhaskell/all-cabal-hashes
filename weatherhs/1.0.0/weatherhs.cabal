cabal-version:          2.2
name:                   weatherhs
version:                1.0.0
synopsis:               Weather and related data info command-line tool
description:            Command-line tool that retrieves and nicely outputs weather and related data from [Weather API](https://www.weatherapi.com/), in the table form.
license:                GPL-3.0-or-later
license-file:           LICENSE
copyright:              (C) 2022 Nikola Hadžić
homepage:               https://gitlab.com/NH000/weatherhs#readme
bug-reports:            https://gitlab.com/NH000/weatherhs/issues
stability:              stable
author:                 Nikola Hadžić
maintainer:             nikola.hadzic.000@protonmail.com
category:               Application, Command Line Tool
tested-with:            GHC == 8.4.4
extra-source-files:     README.md,
                        po/Makefile, po/*.po,
                        man/man1/weatherhs.1, man/sr/man1/weatherhs.1, man/sr_RS@latin/man1/weatherhs.1,
                        Makefile,
                        screenshots/*.jpeg
build-type:             Custom

source-repository head
    type:       git
    location:   https://gitlab.com/NH000/weatherhs.git

custom-setup
    setup-depends:  base, Cabal ^>= 2.2.0.1, hgettext

flag encryption
    description:    Support for encryption/decryption.
                    Currently only used for decryption of the encrypted API key.
    default:        True
    manual:         True

flag noJSON
    description:    Disable JSON support.
    default:        False
    manual:         True

flag noXML
    description:    Disable XML support.
    default:        False
    manual:         True

executable weatherhs
    hs-source-dirs:     app
    main-is:            Main.hs
    build-depends:      base ^>= 4.11.1.0, scientific ^>= 0.3.6.2, text ^>= 1.2.3.1, bytestring ^>= 0.10.8.2, regex-pcre ^>= 0.94.4, time ^>= 1.8.0.2, setlocale ^>= 1.0.0.8, hgettext ^>= 0.1.31.0, http-types ^>= 0.12.2, http-client ^>= 0.5.14, http-client-tls ^>= 0.3.5.3, terminal-size ^>= 0.3.2.1, extra ^>= 1.6.14
    autogen-modules:    Paths_weatherhs
    other-modules:      Paths_weatherhs, GetText, DateTime, ArgParser, FormatWeather, Draw
    ghc-options:        -Wall -fno-warn-name-shadowing
    default-language:   Haskell2010

    x-gettext-po-files: po/*.po

    if flag(encryption)
        build-depends:  h-gpgme ^>= 0.5.1.0, directory ^>= 1.3.1.5
        cpp-options:    -DFLAG_ENCRYPTION

    if flag(noJSON)
        cpp-options:    -DFLAG_NOJSON
    else
        build-depends:  aeson ^>= 1.3.1.1

    if flag(noXML)
        cpp-options:    -DFLAG_NOXML
    else
        build-depends:  xml ^>= 1.3.14
