cabal-version:       >= 1.10
-- Initial package description 'hablo.cabal' generated by 'cabal init'.
-- For further documentation, see http://haskell.org/cabal/users-guide/

name:                hablo
version:             1.1.0.1
synopsis:            A minimalist static blog generator
description:
  Hablo is a fediverse-oriented static blog generator for articles written
  in Markdown. It tries to generate as little HTML as needed and uses
  Javascript to implement dynamic features in the browser.

  Those features include the handling of comments and a cached navigation to
  minimize the number of queries to the server. Hablo also generates RSS feeds
  and Open Graph cards for prettier shares on social networks.
homepage:            https://git.marvid.fr/Tissevert/hablo
-- bug-reports:
license:             BSD3
license-file:        LICENSE
author:              Tissevert
maintainer:          tissevert+devel@marvid.fr
-- copyright:
category:            Web
extra-source-files:  CHANGELOG.md
build-type:          Simple
data-dir:            share
data-files:          js/*.js
                     defaultWording.conf

library
  exposed-modules:     Arguments
                     , Article
                     , ArticlesList
                     , Blog
                     , Blog.Path
                     , Blog.Template
                     , Blog.Skin
                     , Blog.URL
                     , Blog.Wording
                     , Collection
                     , DOM
                     , DOM.Card
                     , Files
                     , HTML
                     , JS
                     , JSON
                     , Markdown
                     , Page
                     , Paths_hablo
                     , Pretty
                     , RSS
  -- other-extensions:
  build-depends:       aeson >= 1.2.0 && < 1.6
                     , base >= 4.9.1 && < 4.15
                     , bytestring >= 0.10.8 && < 0.12
                     , containers >= 0.5.11 && < 0.7
                     , directory >= 1.3.1 && < 1.4
                     , filepath >= 1.4.2 && < 1.5
                     , lucid >= 2.8.0 && < 2.10
                     , mtl >= 2.2.2 && < 2.3
                     , optparse-applicative >= 0.14.0 && < 0.17
                     , parsec >= 3.1.13 && < 3.2
                     , template >= 0.2.0 && < 0.3
                     , text >= 1.2.3 && < 1.3
                     , time >= 1.8.0 && < 1.12
                     , SJW >= 0.1.2 && < 0.2
                     , unix >= 2.7.2 && < 2.8
  ghc-options:         -Wall
  hs-source-dirs:      src
  default-language:    Haskell2010

executable hablo
  main-is:             src/Main.hs
  other-modules:       Paths_hablo
  -- other-extensions:
  build-depends:       base >= 4.9.1 && < 4.15
                     , hablo
                     , mtl >= 2.2.2 && < 2.3
  ghc-options:         -Wall
  default-language:    Haskell2010

test-suite tests
  type:                detailed-0.9
  test-module:         Tests
  other-modules:       Mock.Arguments
                     , Mock.Article
                     , Mock.ArticlesList
                     , Mock.Blog
                     , Mock.Blog.Path
                     , Mock.Blog.Skin
                     , Mock.Blog.Template
                     , Mock.Blog.URL
                     , Mock.Blog.Wording
                     , Mock.Collection
                     , Mock.Markdown
                     , Structure
                     , Utils
                     , XML.Card
                     , XML.Card.Component
                     , XML.Card.Output
  build-depends:       base
                     , Cabal
                     , containers
                     , directory
                     , filepath
                     , hablo
                     , lucid
                     , mtl
                     , text
  hs-source-dirs:      test
  ghc-options:         -Wall
  default-language:    Haskell2010
