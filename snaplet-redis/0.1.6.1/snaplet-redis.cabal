cabal-version:      1.12
name:               snaplet-redis
version:            0.1.6.1
license:            BSD3
license-file:       LICENSE
maintainer:         dima@dzhus.org
author:             Dmitry Dzhus
homepage:           https://github.com/dzhus/snaplet-redis#readme
bug-reports:        https://github.com/dzhus/snaplet-redis/issues
synopsis:           Redis support for Snap Framework
description:
    This package provides a snaplet which exposes interface to Redis in-memory key-value storage as implemented by Hedis library. Inline documentation contains usage examples.

category:           Web, Snap
build-type:         Simple
extra-source-files:
    CHANGELOG.md
    README.md

source-repository head
    type:     git
    location: https://github.com/dzhus/snaplet-redis

flag example
    description: Build example
    default:     False

library
    exposed-modules:
        Snap.Snaplet.Auth.Backends.Redis
        Snap.Snaplet.RedisDB
        Snap.Snaplet.Session.Backends.RedisSession

    hs-source-dirs:   src
    other-modules:    Paths_snaplet_redis
    default-language: Haskell2010
    ghc-options:      -Wall -Wcompat
    build-depends:
        base <5,
        bytestring <0.11,
        cereal <0.6,
        clientsession <0.10,
        configurator <0.4,
        hedis <0.15,
        lens <5,
        mtl <2.3,
        snap <1.2,
        snap-core <1.1,
        text <1.3,
        time <1.10,
        unordered-containers <0.3

executable Example
    main-is:          Site.hs
    hs-source-dirs:   example
    other-modules:    Paths_snaplet_redis
    default-language: Haskell2010
    build-depends:
        base <4.15,
        bytestring <0.11,
        hedis <0.15,
        lens <5,
        mtl <2.3,
        snap <1.2,
        snap-core <1.1,
        snap-server <1.2,
        snaplet-redis -any,
        text <1.3

    if !flag(example)
        buildable: False
