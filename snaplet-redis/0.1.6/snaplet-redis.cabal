cabal-version: 1.12
name: snaplet-redis
version: 0.1.6
license: BSD3
license-file: LICENSE
maintainer: dima@dzhus.org
author: Dmitry Dzhus
homepage: https://github.com/dzhus/snaplet-redis#readme
bug-reports: https://github.com/dzhus/snaplet-redis/issues
synopsis: Redis support for Snap Framework
description:
    This package provides a snaplet which exposes interface to Redis in-memory key-value storage as implemented by Hedis library. Inline documentation contains usage examples.
category: Web, Snap
build-type: Simple
extra-source-files:
    CHANGELOG.md

source-repository head
    type: git
    location: https://github.com/dzhus/snaplet-redis

flag example
    description:
        Build example
    default: False

library
    exposed-modules:
        Snap.Snaplet.Auth.Backends.Redis
        Snap.Snaplet.RedisDB
        Snap.Snaplet.Session.Backends.RedisSession
    hs-source-dirs: src
    other-modules:
        Paths_snaplet_redis
    default-language: Haskell2010
    ghc-options: -Wall
    build-depends:
        base <5,
        bytestring <0.11,
        cereal <0.6,
        clientsession <0.10,
        configurator <0.4,
        hedis <0.13,
        lens <4.18,
        mtl <2.3,
        network <2.9,
        snap <1.2,
        snap-core <1.1,
        text <1.3,
        time <1.9,
        transformers <0.6,
        unordered-containers <0.3

executable Example
    main-is: Site.hs
    hs-source-dirs: example
    other-modules:
        Paths_snaplet_redis
    default-language: Haskell2010
    build-depends:
        aeson <1.5,
        base <4.13,
        bytestring <0.11,
        hedis <0.13,
        heist <1.2,
        lens <4.18,
        monad-control <1.1,
        mtl <2.3,
        snap <1.2,
        snap-core <1.1,
        snap-server <1.2,
        snaplet-redis -any,
        text <1.3,
        time <1.9,
        xmlhtml <0.3
    
    if !flag(example)
        buildable: False
