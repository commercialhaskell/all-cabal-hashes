cabal-version:      2.4
name:               benc
version:            0.1.0.0
synopsis:           Bencode encoding and decoding library
description:        Bencode encoding and decoding library.
homepage:           https://github.com/meooow25/benc
bug-reports:        https://github.com/meooow25/benc/issues
license:            MIT
license-file:       LICENSE
author:             Soumik Sarkar
maintainer:         soumiksarkar.3120@gmail.com
category:           Codec
extra-doc-files:
    README.md
    CHANGELOG.md

common warnings
    ghc-options: -Wall

library
    import:           warnings

    exposed-modules:
        Data.Bencode.Decode
        Data.Bencode.Encode
        Data.Bencode.Type

    other-modules:
        Data.Bencode.AST
        Data.Bencode.Util

    build-depends:
        base         >= 4.14    && < 5.0
      , bytestring   >= 0.10.12 && < 0.13
      , containers   >= 0.6.5   && < 0.8
      , primitive    >= 0.9.0   && < 0.10
      , text         >= 1.2.4   && < 2.2
      , transformers >= 0.5.6   && < 0.7
      , vector       >= 0.13.1  && < 0.14

    hs-source-dirs:   src
    default-language: Haskell2010

test-suite benc-test
    import:           warnings

    build-depends:
        base
      , benc
      , tasty
      , tasty-hunit
      , tasty-quickcheck
      , bytestring
      , containers
      , text
      , vector

    hs-source-dirs:   test
    main-is:          Test.hs
    default-language: Haskell2010
    type:             exitcode-stdio-1.0

benchmark benc-compare
    import:           warnings

    build-depends:
        base
      , benc
      , bencode      == 0.6.1.1
      , AttoBencode  == 0.3.1.0
      , bencoding    == 0.4.5.4
      , tasty
      , tasty-bench
      , tasty-hunit
      , bytestring
      , containers
      , deepseq
      , text
      , transformers == 0.5.6.2
      , vector
      -- bencoding depends on an orphan in the removed Control.Monad.Trans.Error

    hs-source-dirs:   compare
    main-is:          Bench.hs
    default-language: Haskell2010
    type:             exitcode-stdio-1.0
