cabal-version:       2.4
name:                prosidyc
version:             0.2.0.0
synopsis:            A DSL for processing Prosidy documents.
license:             MPL-2.0
license-file:        LICENSE
author:              James Alexander Feldman-Crough
maintainer:          alex@fldcr.com
copyright:           Â©2020 to James Alexander Feldman-Crough
category:            Language
extra-source-files:  CHANGELOG, README.pro

tested-with:
    GHC == 8.6.5
  , GHC == 8.8.1

description:
    A small, Haskell EDSL which builds a specification and compiler for
    Prosidy dialects.

source-repository head
    type:     git
    location: https://git.fldcr.com/prosidy/prosidyc

flag fatal-warnings
    description: Turns all warnings into errors. Used in CI.
    default:     False
    manual:      True

-------------------------------------------------------------------------------
library
    default-language: Haskell2010
    hs-source-dirs:   src

    ghc-options:
        -Wall
        -Wno-name-shadowing

    if flag(fatal-warnings)
        ghc-options:
            -Werror

    exposed-modules:
        Prosidy.Compile
      , Prosidy.Compile.Core
      , Prosidy.Compile.Error
      , Prosidy.Compile.FromSetting
      , Prosidy.Compile.Match
      , Prosidy.Compile.Strict

    other-modules:
        Prosidy.Compile.Run

    build-depends:
        base                 >= 4.11 && < 5
      , prosidy              >= 1.6  && < 1.7
      , free                 >= 5.1  && < 5.2
      , hashable             >= 1.2  && < 1.4
      , microlens            >= 0.4  && < 0.5
      , mtl                  >= 2.2  && < 2.3
      , text                 >= 1.2  && < 1.3
      , unordered-containers >= 0.2  && < 0.3