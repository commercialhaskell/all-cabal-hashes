cabal-version:      2.4
name:               explainable-predicates
version:            0.1.0.0
synopsis:           Predicates that can explain themselves.
description:        Explainable predicates are essentially functions from types
                    to 'Bool' which can additionally describe themselves and
                    explain why an argument does or doesn't match.  They are
                    intended to be used during unit tests to provide better
                    error messages when tests fail.  For example, if a
                    collection is missing an element, an explainable predicate
                    can tell you which element is missing.
category:           Testing
homepage:           https://github.com/cdsmith/explainable-predicates
bug-reports:        https://github.com/cdsmith/explainable-predicates/issues
license:            BSD-3-Clause
license-file:       LICENSE

author:             Chris Smith <cdsmith@gmail.com>
maintainer:         Chris Smith <cdsmith@gmail.com>

extra-source-files: CHANGELOG.md

tested-with:        GHC == 8.4.4 || == 8.6.5 || == 8.8.4 || == 8.10.4 || == 9.0.1

source-repository head
    type:     git
    location: git://github.com/cdsmith/explainable-predicates.git

library
    exposed-modules:  Test.Predicates,
                      Test.Predicates.Internal.FlowMatcher
    other-modules:    Test.Predicates.Internal.Util
    build-depends:    array >= 0.5.2 && < 0.6,
                      base >=4.11.0 && < 4.16,
                      mono-traversable >= 1.0.15 && < 1.1,
                      regex-tdfa >= 1.3.1 && < 1.4,
                      syb >= 0.7.2 && < 0.8,
                      template-haskell >= 2.13.0 && < 2.18,
    hs-source-dirs:   src
    default-language: Haskell2010
    ghc-options:      -Wall -Wcompat -Wincomplete-uni-patterns

test-suite tests
    type:             exitcode-stdio-1.0
    main-is:          Main.hs
    other-modules:    DocTests.All,
                      DocTests.Test.Predicates,
                      DocTests.Test.Predicates.Internal.FlowMatcher
    build-depends:    base,
                      doctest-exitcode-stdio,
                      doctest-lib,
                      explainable-predicates,
                      hspec,
    hs-source-dirs:   test
    default-language: Haskell2010
    ghc-options:      -threaded -Wall -Wcompat -Wincomplete-uni-patterns
