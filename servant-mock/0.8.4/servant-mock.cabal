name:                servant-mock
version:             0.8.4
x-revision:          3

synopsis:            Derive a mock server for free from your servant API types
description:
  Derive a mock server for free from your servant API types
  .
  See the @Servant.Mock@ module for the documentation and an example.
homepage:            http://haskell-servant.readthedocs.org/
license:             BSD3
license-file:        LICENSE
author:              Servant Contributors
maintainer:          haskell-servant-maintainers@googlegroups.com
copyright:           2015-2016 Servant Contributors
category:            Servant, Web
build-type:          Simple
extra-source-files:  README.md CHANGELOG.md include/*.h
cabal-version:       >=1.10
bug-reports:         http://github.com/haskell-servant/servant-mock/issues
tested-with:
  GHC ==7.10.3
   || ==8.0.2
   || ==8.2.2
   || ==8.4.4
   || ==8.6.1

source-repository head
  type: git
  location: http://github.com/haskell-servant/servant-mock.git

flag example
  description: Build the example too
  default: True
  manual: True

library
  exposed-modules:
    Servant.Mock
  build-depends:
    base            >=4.7    && <4.13,
    base-compat     >=0.9.3  && <0.11,
    bytestring      >=0.10.4 && <0.11,
    http-types      >=0.8    && <0.13,
    servant         >=0.13   && <0.15,
    servant-server  >=0.13   && <0.15,
    transformers    >=0.3    && <0.6,
    QuickCheck      >=2.7    && <2.13,
    wai             >=3.0    && <3.3
  hs-source-dirs:      src
  default-language:    Haskell2010
  include-dirs: include
  ghc-options: -Wall

executable mock-app
  main-is: main.hs
  hs-source-dirs: example
  default-language: Haskell2010
  build-depends:
    aeson,
    base,
    servant-mock,
    servant-server >= 0.10,
    QuickCheck,
    warp
  if flag(example)
    buildable: True
  else
    buildable: False
  ghc-options: -Wall

test-suite spec
  type: exitcode-stdio-1.0
  ghc-options: -Wall
  default-language: Haskell2010
  hs-source-dirs: test
  main-is: Spec.hs
  other-modules:
    Servant.MockSpec
  build-tool-depends:
    hspec-discover:hspec-discover
  build-depends:
    bytestring-conversion,
    base,
    hspec,
    hspec-wai >=0.8 && <0.10,
    QuickCheck,
    servant,
    servant-server,
    servant-mock,
    aeson,
    wai
