cabal-version:       1.18
-- Initial package description 'microlens-process.cabal' generated by
-- 'cabal init'.  For further documentation, see
-- http://haskell.org/cabal/users-guide/

name:                microlens-process
version:             0.2.0.0
x-revision: 3
synopsis:            Micro-optics for the process library
description:
   'microlens-process' is a set of multi-purpose optics and convenience
   combinators for working with the `process` library, including
   a more well-typed api for the parts that can be typed.
homepage:              https://github.com/emilypi/lens-process/microlens
bug-reports:           https://github.com/emilypi/lens-process/issues
license:               BSD3
license-file:          LICENSE
author:                Emily Pillmore
maintainer:            emilypi@cohomolo.gy
copyright:             (c) 2019 Emily Pillmore
category:              System
build-type:            Custom
extra-source-files:    CHANGELOG.md, README.md
tested-with:           GHC == 8.0.2
                     , GHC == 8.4.3
                     , GHC == 8.4.4
                     , GHC == 8.6.3
                     , GHC == 8.6.5

source-repository head
  type:                git
  location:            https://github.com/emilypi/lens-process.git

custom-setup
  setup-depends:       base          >= 4.8 && < 5
                     , Cabal
                     , cabal-doctest >= 1   && < 1.1

library
  exposed-modules:     System.Process.Microlens
                     , System.Process.Microlens.CreateProcess
                     , System.Process.Microlens.CmdSpec
                     , System.Process.Microlens.Optics
                     , System.Process.Microlens.ProcessHandler
                     , System.Process.Microlens.StdStream

  build-depends:       base       >= 4.8      && < 5
                     , filepath   >= 1.0      && < 1.5
                     , microlens  >= 0.3.0.0  && < 0.4.12.0
                     , process    >= 1.3      && < 1.7

  hs-source-dirs:      src
  default-language:    Haskell2010

test-suite doctests

  main-is:             doctests.hs
  type:                exitcode-stdio-1.0

  build-depends:       base              >= 4.8     && < 5
                     , doctest           >= 0.16    && < 1.1
                     , microlens         >= 0.3.0.0 && < 0.4.12.0
                     , microlens-process
                     , process           >= 1.3     && < 1.7

  hs-source-dirs:      test
  default-language:    Haskell2010
  ghc-options:         -Wall -threaded
  x-doctest-options:   --fast
